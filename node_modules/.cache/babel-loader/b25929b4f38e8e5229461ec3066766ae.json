{"ast":null,"code":"import * as React from 'react';\nimport React__default, { useState, useCallback, useEffect, useRef } from 'react';\nimport { isBrowser, runIfFn, getBox, callAllHandlers, wrapPointerEventHandler, getPointerEventName, hasFocusWithin, focus, getActiveElement, contains, isTabbable, detectBrowser, isRefObject, isActiveElement, getOwnerDocument, getAllFocusable, noop, PanSession } from '@chakra-ui/utils';\nimport copy from 'copy-to-clipboard';\n/**\n * React hook to manage boolean (on - off) states\n *\n * @param initialState the initial boolean state value\n */\n\nfunction useBoolean(initialState) {\n  if (initialState === void 0) {\n    initialState = false;\n  }\n\n  var _useState = useState(initialState),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var on = useCallback(function () {\n    setValue(true);\n  }, []);\n  var off = useCallback(function () {\n    setValue(false);\n  }, []);\n  var toggle = useCallback(function () {\n    setValue(function (prev) {\n      return !prev;\n    });\n  }, []);\n  return [value, {\n    on: on,\n    off: off,\n    toggle: toggle\n  }];\n}\n/**\n * useSafeLayoutEffect enables us to safely call `useLayoutEffect` on the browser\n * (for SSR reasons)\n *\n * React currently throws a warning when using useLayoutEffect on the server.\n * To get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser.\n *\n * @see https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n */\n\n\nvar useSafeLayoutEffect = isBrowser ? React.useLayoutEffect : React.useEffect;\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param value the value or function to persist\n */\n\nfunction useCallbackRef(fn, deps) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  var ref = React.useRef(fn);\n  useSafeLayoutEffect(function () {\n    ref.current = fn;\n  }); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return ref.current == null ? void 0 : ref.current.apply(ref, args);\n  }, deps);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"timeout\"];\n/**\n * React hook to copy content to clipboard\n *\n * @param text the text or value to copy\n * @param {Number} [optionsOrTimeout=1500] optionsOrTimeout - delay (in ms) to switch back to initial state once copied.\n * @param {Object} optionsOrTimeout\n * @param {string} optionsOrTimeout.format - set the desired MIME type\n * @param {number} optionsOrTimeout.timeout - delay (in ms) to switch back to initial state once copied.\n */\n\nfunction useClipboard(text, optionsOrTimeout) {\n  if (optionsOrTimeout === void 0) {\n    optionsOrTimeout = {};\n  }\n\n  var _useState = useState(false),\n      hasCopied = _useState[0],\n      setHasCopied = _useState[1];\n\n  var _ref = typeof optionsOrTimeout === \"number\" ? {\n    timeout: optionsOrTimeout\n  } : optionsOrTimeout,\n      _ref$timeout = _ref.timeout,\n      timeout = _ref$timeout === void 0 ? 1500 : _ref$timeout,\n      copyOptions = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var onCopy = useCallback(function () {\n    var didCopy = copy(text, copyOptions);\n    setHasCopied(didCopy);\n  }, [text, copyOptions]);\n  useEffect(function () {\n    var timeoutId = null;\n\n    if (hasCopied) {\n      timeoutId = window.setTimeout(function () {\n        setHasCopied(false);\n      }, timeout);\n    }\n\n    return function () {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId);\n      }\n    };\n  }, [timeout, hasCopied]);\n  return {\n    value: text,\n    onCopy: onCopy,\n    hasCopied: hasCopied\n  };\n}\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\n\n\nfunction useConst(init) {\n  var ref = useRef(null);\n\n  if (ref.current === null) {\n    ref.current = typeof init === \"function\" ? init() : init;\n  }\n\n  return ref.current;\n}\n\nfunction useControllableProp(prop, state) {\n  var isControlled = prop !== undefined;\n  var value = isControlled && typeof prop !== \"undefined\" ? prop : state;\n  return [isControlled, value];\n}\n/**\n * React hook for using controlling component state.\n * @param props\n */\n\n\nfunction useControllableState(props) {\n  var valueProp = props.value,\n      defaultValue = props.defaultValue,\n      onChange = props.onChange,\n      _props$shouldUpdate = props.shouldUpdate,\n      shouldUpdate = _props$shouldUpdate === void 0 ? function (prev, next) {\n    return prev !== next;\n  } : _props$shouldUpdate;\n  var onChangeProp = useCallbackRef(onChange);\n  var shouldUpdateProp = useCallbackRef(shouldUpdate);\n\n  var _React$useState = React.useState(defaultValue),\n      valueState = _React$useState[0],\n      setValue = _React$useState[1];\n\n  var isControlled = valueProp !== undefined;\n  var value = isControlled ? valueProp : valueState;\n  var updateValue = React.useCallback(function (next) {\n    var nextValue = runIfFn(next, value);\n\n    if (!shouldUpdateProp(value, nextValue)) {\n      return;\n    }\n\n    if (!isControlled) {\n      setValue(nextValue);\n    }\n\n    onChangeProp(nextValue);\n  }, [isControlled, onChangeProp, value, shouldUpdateProp]);\n  return [value, updateValue];\n}\n/**\n * Reack hook to measure a component's dimensions\n *\n * @param ref ref of the component to measure\n * @param observe if `true`, resize and scroll observers will be turned on\n */\n\n\nfunction useDimensions(ref, observe) {\n  var _React$useState = React.useState(null),\n      dimensions = _React$useState[0],\n      setDimensions = _React$useState[1];\n\n  var rafId = React.useRef();\n  useSafeLayoutEffect(function () {\n    if (!ref.current) return undefined;\n    var node = ref.current;\n\n    function measure() {\n      rafId.current = requestAnimationFrame(function () {\n        var boxModel = getBox(node);\n        setDimensions(boxModel);\n      });\n    }\n\n    measure();\n\n    if (observe) {\n      window.addEventListener(\"resize\", measure);\n      window.addEventListener(\"scroll\", measure);\n    }\n\n    return function () {\n      if (observe) {\n        window.removeEventListener(\"resize\", measure);\n        window.removeEventListener(\"scroll\", measure);\n      }\n\n      if (rafId.current) {\n        cancelAnimationFrame(rafId.current);\n      }\n    };\n  }, [observe]);\n  return dimensions;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n} // This implementation is heavily inspired by react-aria's implementation\n\n\nvar defaultIdContext = {\n  prefix: Math.round(Math.random() * 10000000000),\n  current: 0\n};\nvar IdContext = /*#__PURE__*/React.createContext(defaultIdContext);\nvar IdProvider = /*#__PURE__*/React.memo(function (_ref) {\n  var children = _ref.children;\n  var currentContext = React.useContext(IdContext);\n  var isRoot = currentContext === defaultIdContext;\n  var context = React.useMemo(function () {\n    return {\n      prefix: isRoot ? 0 : ++currentContext.prefix,\n      current: 0\n    };\n  }, [isRoot, currentContext]);\n  return /*#__PURE__*/React.createElement(IdContext.Provider, {\n    value: context\n  }, children);\n});\n\nfunction useId(idProp, prefix) {\n  var context = React.useContext(IdContext);\n  return React.useMemo(function () {\n    return idProp || [prefix, context.prefix, ++context.current].filter(Boolean).join(\"-\");\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [idProp, prefix]);\n}\n/**\n * Reack hook to generate ids for use in compound components\n *\n * @param idProp the external id passed from the user\n * @param prefixes array of prefixes to use\n *\n * @example\n *\n * ```js\n * const [buttonId, menuId] = useIds(\"52\", \"button\", \"menu\")\n *\n * // buttonId will be `button-52`\n * // menuId will be `menu-52`\n * ```\n */\n\n\nfunction useIds(idProp) {\n  for (var _len = arguments.length, prefixes = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    prefixes[_key - 1] = arguments[_key];\n  }\n\n  var id = useId(idProp);\n  return React.useMemo(function () {\n    return prefixes.map(function (prefix) {\n      return prefix + \"-\" + id;\n    });\n  }, [id, prefixes]);\n}\n/**\n * Used to generate an id, and after render, check if that id is rendered so we know\n * if we can use it in places such as `aria-labelledby`.\n *\n * @param partId - The unique id for the component part\n *\n * @example\n * const { ref, id } = useOptionalPart<HTMLInputElement>(`${id}-label`)\n */\n\n\nfunction useOptionalPart(partId) {\n  var _React$useState = React.useState(null),\n      id = _React$useState[0],\n      setId = _React$useState[1];\n\n  var ref = React.useCallback(function (node) {\n    setId(node ? partId : null);\n  }, [partId]);\n  return {\n    ref: ref,\n    id: id,\n    isRendered: Boolean(id)\n  };\n}\n\nfunction useDisclosure(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      onCloseProp = _props.onClose,\n      onOpenProp = _props.onOpen,\n      isOpenProp = _props.isOpen,\n      idProp = _props.id;\n  var onOpenPropCallbackRef = useCallbackRef(onOpenProp);\n  var onClosePropCallbackRef = useCallbackRef(onCloseProp);\n\n  var _React$useState = React.useState(props.defaultIsOpen || false),\n      isOpenState = _React$useState[0],\n      setIsOpen = _React$useState[1];\n\n  var _useControllableProp = useControllableProp(isOpenProp, isOpenState),\n      isControlled = _useControllableProp[0],\n      isOpen = _useControllableProp[1];\n\n  var id = useId(idProp, \"disclosure\");\n  var onClose = React.useCallback(function () {\n    if (!isControlled) {\n      setIsOpen(false);\n    }\n\n    onClosePropCallbackRef == null ? void 0 : onClosePropCallbackRef();\n  }, [isControlled, onClosePropCallbackRef]);\n  var onOpen = React.useCallback(function () {\n    if (!isControlled) {\n      setIsOpen(true);\n    }\n\n    onOpenPropCallbackRef == null ? void 0 : onOpenPropCallbackRef();\n  }, [isControlled, onOpenPropCallbackRef]);\n  var onToggle = React.useCallback(function () {\n    var action = isOpen ? onClose : onOpen;\n    action();\n  }, [isOpen, onOpen, onClose]);\n  return {\n    isOpen: !!isOpen,\n    onOpen: onOpen,\n    onClose: onClose,\n    onToggle: onToggle,\n    isControlled: isControlled,\n    getButtonProps: function getButtonProps(props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return _extends({}, props, {\n        \"aria-expanded\": \"true\",\n        \"aria-controls\": id,\n        onClick: callAllHandlers(props.onClick, onToggle)\n      });\n    },\n    getDisclosureProps: function getDisclosureProps(props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return _extends({}, props, {\n        hidden: !isOpen,\n        id: id\n      });\n    }\n  };\n}\n/**\n * React hook for performant `useCallbacks`\n *\n * @see https://github.com/facebook/react/issues/14099#issuecomment-440013892\n *\n * @deprecated Use `useCallbackRef` instead. `useEventCallback` will be removed\n * in a future version.\n */\n\n\nfunction useEventCallback(callback) {\n  var ref = React.useRef(callback);\n  useSafeLayoutEffect(function () {\n    ref.current = callback;\n  });\n  return React.useCallback(function (event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return ref.current.apply(ref, [event].concat(args));\n  }, []);\n}\n/**\n * React hook to manage browser event listeners\n *\n * @param event the event name\n * @param handler the event handler function to execute\n * @param doc the dom environment to execute against (defaults to `document`)\n * @param options the event listener options\n *\n * @internal\n */\n\n\nfunction useEventListener(event, handler, env, options) {\n  var listener = useCallbackRef(handler);\n  React.useEffect(function () {\n    var _runIfFn;\n\n    var node = (_runIfFn = runIfFn(env)) != null ? _runIfFn : document;\n    node.addEventListener(event, listener, options);\n    return function () {\n      node.removeEventListener(event, listener, options);\n    };\n  }, [event, env, options, listener]);\n  return function () {\n    var _runIfFn2;\n\n    var node = (_runIfFn2 = runIfFn(env)) != null ? _runIfFn2 : document;\n    node.removeEventListener(event, listener, options);\n  };\n}\n\nfunction useEventListenerMap() {\n  var listeners = React.useRef(new Map());\n  var currentListeners = listeners.current;\n  var add = React.useCallback(function (el, type, listener, options) {\n    var pointerEventListener = wrapPointerEventHandler(listener, type === \"pointerdown\");\n    listeners.current.set(listener, {\n      __listener: pointerEventListener,\n      type: getPointerEventName(type),\n      el: el,\n      options: options\n    });\n    el.addEventListener(type, pointerEventListener, options);\n  }, []);\n  var remove = React.useCallback(function (el, type, listener, options) {\n    var _listeners$current$ge = listeners.current.get(listener),\n        pointerEventListener = _listeners$current$ge.__listener;\n\n    el.removeEventListener(type, pointerEventListener, options);\n    listeners.current[\"delete\"](pointerEventListener);\n  }, []);\n  React.useEffect(function () {\n    return function () {\n      currentListeners.forEach(function (value, key) {\n        remove(value.el, value.type, key, value.options);\n      });\n    };\n  }, [remove, currentListeners]);\n  return {\n    add: add,\n    remove: remove\n  };\n}\n/**\n * React effect hook that invokes only on update.\n * It doesn't invoke on mount\n */\n\n\nvar useUpdateEffect = function useUpdateEffect(effect, deps) {\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    if (mounted.current) {\n      return effect();\n    }\n\n    mounted.current = true;\n    return undefined; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  return mounted.current;\n};\n/**\n * React hook to focus an element conditionally\n *\n * @param ref the ref of the element to focus\n * @param options focus management options\n */\n\n\nfunction useFocusEffect(ref, options) {\n  var shouldFocus = options.shouldFocus,\n      preventScroll = options.preventScroll;\n  useUpdateEffect(function () {\n    var node = ref.current;\n    if (!node || !shouldFocus) return;\n\n    if (!hasFocusWithin(node)) {\n      focus(node, {\n        preventScroll: preventScroll,\n        nextTick: true\n      });\n    }\n  }, [shouldFocus, ref, preventScroll]);\n}\n\nfunction preventReturnFocus(containerRef) {\n  var el = containerRef.current;\n  if (!el) return false;\n  var activeElement = getActiveElement(el);\n  if (!activeElement) return false;\n  if (contains(el, activeElement)) return false;\n  if (isTabbable(activeElement)) return true;\n  return false;\n}\n/**\n * Popover hook to manage the focus when the popover closes or hides.\n *\n * We either want to return focus back to the popover trigger or\n * let focus proceed normally if user moved to another interactive\n * element in the viewport.\n */\n\n\nfunction useFocusOnHide(containerRef, options) {\n  var shouldFocusProp = options.shouldFocus,\n      visible = options.visible,\n      focusRef = options.focusRef;\n  var shouldFocus = shouldFocusProp && !visible;\n  useUpdateEffect(function () {\n    if (!shouldFocus) return;\n\n    if (preventReturnFocus(containerRef)) {\n      return;\n    }\n\n    var el = (focusRef == null ? void 0 : focusRef.current) || containerRef.current;\n\n    if (el) {\n      focus(el, {\n        nextTick: true\n      });\n    }\n  }, [shouldFocus, containerRef, focusRef]);\n}\n/**\n * Credit goes to `framer-motion` of this useful utilities.\n * License can be found here: https://github.com/framer/motion\n */\n\n/**\n * @internal\n */\n\n\nfunction usePointerEvent(env, eventName, handler, options) {\n  return useEventListener(getPointerEventName(eventName), wrapPointerEventHandler(handler, eventName === \"pointerdown\"), env, options);\n}\n/**\n * Polyfill to get `relatedTarget` working correctly consistently\n * across all browsers.\n *\n * It ensures that elements receives focus on pointer down if\n * it's not the active active element.\n *\n * @internal\n */\n\n\nfunction useFocusOnPointerDown(props) {\n  var ref = props.ref,\n      elements = props.elements,\n      enabled = props.enabled;\n  var isSafari = detectBrowser(\"Safari\");\n\n  var doc = function doc() {\n    return getOwnerDocument(ref.current);\n  };\n\n  usePointerEvent(doc, \"pointerdown\", function (event) {\n    if (!isSafari || !enabled) return;\n    var target = event.target;\n    var els = elements != null ? elements : [ref];\n    var isValidTarget = els.some(function (elementOrRef) {\n      var el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return contains(el, target);\n    });\n\n    if (!isActiveElement(target) && isValidTarget) {\n      event.preventDefault();\n      focus(target);\n    }\n  });\n}\n\nvar defaultOptions = {\n  preventScroll: true,\n  shouldFocus: false\n};\n\nfunction useFocusOnShow(target, options) {\n  if (options === void 0) {\n    options = defaultOptions;\n  }\n\n  var _options = options,\n      focusRef = _options.focusRef,\n      preventScroll = _options.preventScroll,\n      shouldFocus = _options.shouldFocus,\n      visible = _options.visible;\n  var element = isRefObject(target) ? target.current : target;\n  var autoFocus = shouldFocus && visible;\n  var onFocus = useCallback(function () {\n    if (!element || !autoFocus) return;\n    if (contains(element, document.activeElement)) return;\n\n    if (focusRef != null && focusRef.current) {\n      focus(focusRef.current, {\n        preventScroll: preventScroll,\n        nextTick: true\n      });\n    } else {\n      var tabbableEls = getAllFocusable(element);\n\n      if (tabbableEls.length > 0) {\n        focus(tabbableEls[0], {\n          preventScroll: preventScroll,\n          nextTick: true\n        });\n      }\n    }\n  }, [autoFocus, preventScroll, element, focusRef]);\n  useUpdateEffect(function () {\n    onFocus();\n  }, [onFocus]);\n  useEventListener(\"transitionend\", onFocus, element);\n}\n\nfunction useUnmountEffect(fn, deps) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  return React.useEffect(function () {\n    return function () {\n      return fn();\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  deps);\n}\n\nfunction useForceUpdate() {\n  var unloadingRef = React.useRef(false);\n\n  var _React$useState = React.useState(0),\n      count = _React$useState[0],\n      setCount = _React$useState[1];\n\n  useUnmountEffect(function () {\n    unloadingRef.current = true;\n  });\n  return React.useCallback(function () {\n    if (!unloadingRef.current) {\n      setCount(count + 1);\n    }\n  }, [count]);\n}\n/**\n * React Hook that provides a declarative `setInterval`\n *\n * @param callback the callback to execute at interval\n * @param delay the `setInterval` delay (in ms)\n */\n\n\nfunction useInterval(callback, delay) {\n  var fn = useCallbackRef(callback);\n  React.useEffect(function () {\n    var intervalId = null;\n\n    var tick = function tick() {\n      return fn();\n    };\n\n    if (delay !== null) {\n      intervalId = window.setInterval(tick, delay);\n    }\n\n    return function () {\n      if (intervalId) {\n        window.clearInterval(intervalId);\n      }\n    };\n  }, [delay, fn]);\n}\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param value the value or function to persist\n */\n\n\nfunction useLatestRef(value) {\n  var ref = React.useRef(null);\n  ref.current = value;\n  return ref;\n}\n/* eslint-disable react-hooks/exhaustive-deps */\n\n\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (typeof ref === \"function\") {\n    ref(value);\n    return;\n  }\n\n  try {\n    // @ts-ignore\n    ref.current = value;\n  } catch (error) {\n    throw new Error(\"Cannot assign value '\" + value + \"' to ref '\" + ref + \"'\");\n  }\n}\n/**\n * React hook that merges react refs into a single memoized function\n *\n * @example\n * import React from \"react\";\n * import { useMergeRefs } from `@chakra-ui/hooks`;\n *\n * const Component = React.forwardRef((props, ref) => {\n *   const internalRef = React.useRef();\n *   return <div {...props} ref={useMergeRefs(internalRef, ref)} />;\n * });\n */\n\n\nfunction useMergeRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return React.useMemo(function () {\n    if (refs.every(function (ref) {\n      return ref == null;\n    })) {\n      return null;\n    }\n\n    return function (node) {\n      refs.forEach(function (ref) {\n        if (ref) assignRef(ref, node);\n      });\n    };\n  }, refs);\n}\n/**\n * @deprecated `useMouseDownRef` will be removed in a future version.\n */\n\n\nfunction useMouseDownRef(shouldListen) {\n  if (shouldListen === void 0) {\n    shouldListen = true;\n  }\n\n  var mouseDownRef = React__default.useRef();\n  useEventListener(\"mousedown\", function (event) {\n    if (shouldListen) {\n      mouseDownRef.current = event.target;\n    }\n  });\n  return mouseDownRef;\n}\n/**\n * Example, used in components like Dialogs and Popovers so they can close\n * when a user clicks outside them.\n */\n\n\nfunction useOutsideClick(props) {\n  var ref = props.ref,\n      handler = props.handler,\n      _props$enabled = props.enabled,\n      enabled = _props$enabled === void 0 ? true : _props$enabled;\n  var savedHandler = useCallbackRef(handler);\n  var stateRef = useRef({\n    isPointerDown: false,\n    ignoreEmulatedMouseEvents: false\n  });\n  var state = stateRef.current;\n  useEffect(function () {\n    if (!enabled) return;\n\n    var onPointerDown = function onPointerDown(e) {\n      if (isValidEvent(e, ref)) {\n        state.isPointerDown = true;\n      }\n    };\n\n    var onMouseUp = function onMouseUp(event) {\n      if (state.ignoreEmulatedMouseEvents) {\n        state.ignoreEmulatedMouseEvents = false;\n        return;\n      }\n\n      if (state.isPointerDown && handler && isValidEvent(event, ref)) {\n        state.isPointerDown = false;\n        savedHandler(event);\n      }\n    };\n\n    var onTouchEnd = function onTouchEnd(event) {\n      state.ignoreEmulatedMouseEvents = true;\n\n      if (handler && state.isPointerDown && isValidEvent(event, ref)) {\n        state.isPointerDown = false;\n        savedHandler(event);\n      }\n    };\n\n    var doc = getOwnerDocument(ref.current);\n    doc.addEventListener(\"mousedown\", onPointerDown, true);\n    doc.addEventListener(\"mouseup\", onMouseUp, true);\n    doc.addEventListener(\"touchstart\", onPointerDown, true);\n    doc.addEventListener(\"touchend\", onTouchEnd, true);\n    return function () {\n      doc.removeEventListener(\"mousedown\", onPointerDown, true);\n      doc.removeEventListener(\"mouseup\", onMouseUp, true);\n      doc.removeEventListener(\"touchstart\", onPointerDown, true);\n      doc.removeEventListener(\"touchend\", onTouchEnd, true);\n    };\n  }, [handler, ref, savedHandler, state, enabled]);\n}\n\nfunction isValidEvent(event, ref) {\n  var _ref$current;\n\n  var target = event.target;\n  if (event.button > 0) return false; // if the event target is no longer in the document\n\n  if (target) {\n    var doc = getOwnerDocument(target);\n    if (!doc.body.contains(target)) return false;\n  }\n\n  return !((_ref$current = ref.current) != null && _ref$current.contains(target));\n}\n\nfunction usePanGesture(ref, props) {\n  var onPan = props.onPan,\n      onPanStart = props.onPanStart,\n      onPanEnd = props.onPanEnd,\n      onPanSessionStart = props.onPanSessionStart,\n      onPanSessionEnd = props.onPanSessionEnd,\n      threshold = props.threshold;\n  var hasPanEvents = Boolean(onPan || onPanStart || onPanEnd || onPanSessionStart || onPanSessionEnd);\n  var panSession = useRef(null);\n  var handlers = {\n    onSessionStart: onPanSessionStart,\n    onSessionEnd: onPanSessionEnd,\n    onStart: onPanStart,\n    onMove: onPan,\n    onEnd: function onEnd(event, info) {\n      panSession.current = null;\n      onPanEnd == null ? void 0 : onPanEnd(event, info);\n    }\n  };\n  useEffect(function () {\n    var _panSession$current;\n\n    (_panSession$current = panSession.current) == null ? void 0 : _panSession$current.updateHandlers(handlers);\n  });\n\n  function onPointerDown(event) {\n    panSession.current = new PanSession(event, handlers, threshold);\n  }\n\n  usePointerEvent(function () {\n    return ref.current;\n  }, \"pointerdown\", hasPanEvents ? onPointerDown : noop);\n  useUnmountEffect(function () {\n    var _panSession$current2;\n\n    (_panSession$current2 = panSession.current) == null ? void 0 : _panSession$current2.end();\n    panSession.current = null;\n  });\n}\n\nfunction usePrevious(value) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n/**\n * Checks if the key pressed is a printable character\n * and can be used for shortcut navigation\n */\n\n\nfunction isPrintableCharacter(event) {\n  var key = event.key;\n  return key.length === 1 || key.length > 1 && /[^a-zA-Z0-9]/.test(key);\n}\n/**\n * React hook that provides an enhanced keydown handler,\n * that's used for key navigation within menus, select dropdowns.\n */\n\n\nfunction useShortcut(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      _props$timeout = _props.timeout,\n      timeout = _props$timeout === void 0 ? 300 : _props$timeout,\n      _props$preventDefault = _props.preventDefault,\n      preventDefault = _props$preventDefault === void 0 ? function () {\n    return true;\n  } : _props$preventDefault;\n\n  var _React$useState = React.useState([]),\n      keys = _React$useState[0],\n      setKeys = _React$useState[1];\n\n  var timeoutRef = React.useRef();\n\n  var flush = function flush() {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = null;\n    }\n  };\n\n  var clearKeysAfterDelay = function clearKeysAfterDelay() {\n    flush();\n    timeoutRef.current = setTimeout(function () {\n      setKeys([]);\n      timeoutRef.current = null;\n    }, timeout);\n  };\n\n  React.useEffect(function () {\n    return flush;\n  }, []);\n\n  function onKeyDown(fn) {\n    return function (event) {\n      if (event.key === \"Backspace\") {\n        var keysCopy = [].concat(keys);\n        keysCopy.pop();\n        setKeys(keysCopy);\n        return;\n      }\n\n      if (isPrintableCharacter(event)) {\n        var _keysCopy = keys.concat(event.key);\n\n        if (preventDefault(event)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        setKeys(_keysCopy);\n        fn(_keysCopy.join(\"\"));\n        clearKeysAfterDelay();\n      }\n    };\n  }\n\n  return onKeyDown;\n}\n/**\n * React hook that provides a declarative `setTimeout`\n *\n * @param callback the callback to run after specified delay\n * @param delay the delay (in ms)\n */\n\n\nfunction useTimeout(callback, delay) {\n  var fn = useCallbackRef(callback);\n  React.useEffect(function () {\n    if (delay == null) return undefined;\n    var timeoutId = null;\n    timeoutId = window.setTimeout(function () {\n      fn();\n    }, delay);\n    return function () {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId);\n      }\n    };\n  }, [delay, fn]);\n}\n\nfunction useWhyDidYouUpdate(name, props) {\n  var previousProps = React.useRef();\n  React.useEffect(function () {\n    if (previousProps.current) {\n      var allKeys = Object.keys(_extends({}, previousProps.current, props));\n      var changesObj = {};\n      allKeys.forEach(function (key) {\n        if (previousProps.current[key] !== props[key]) {\n          changesObj[key] = {\n            from: previousProps.current[key],\n            to: props[key]\n          };\n        }\n      });\n\n      if (Object.keys(changesObj).length) {\n        console.log(\"[why-did-you-update]\", name, changesObj);\n      }\n    }\n\n    previousProps.current = props;\n  });\n}\n\nexport { IdProvider, assignRef, useBoolean, useCallbackRef, useClipboard, useConst, useControllableProp, useControllableState, useDimensions, useDisclosure, useEventCallback, useEventListener, useEventListenerMap, useFocusEffect, useFocusOnHide, useFocusOnPointerDown, useFocusOnShow, useForceUpdate, useId, useIds, useInterval, useLatestRef, useMergeRefs, useMouseDownRef, useOptionalPart, useOutsideClick, usePanGesture, usePointerEvent, usePrevious, useSafeLayoutEffect, useShortcut, useTimeout, useUnmountEffect, useUpdateEffect, useWhyDidYouUpdate };","map":{"version":3,"sources":["/Users/kendrawing/Documents/Coding Projects:Practice/1 Repos:Deployed/React-Ecommerce-Site/node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js"],"names":["React","React__default","useState","useCallback","useEffect","useRef","isBrowser","runIfFn","getBox","callAllHandlers","wrapPointerEventHandler","getPointerEventName","hasFocusWithin","focus","getActiveElement","contains","isTabbable","detectBrowser","isRefObject","isActiveElement","getOwnerDocument","getAllFocusable","noop","PanSession","copy","useBoolean","initialState","_useState","value","setValue","on","off","toggle","prev","useSafeLayoutEffect","useLayoutEffect","useCallbackRef","fn","deps","ref","current","_len","arguments","length","args","Array","_key","apply","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","indexOf","_excluded","useClipboard","text","optionsOrTimeout","hasCopied","setHasCopied","_ref","timeout","_ref$timeout","copyOptions","onCopy","didCopy","timeoutId","window","setTimeout","clearTimeout","useConst","init","useControllableProp","prop","state","isControlled","undefined","useControllableState","props","valueProp","defaultValue","onChange","_props$shouldUpdate","shouldUpdate","next","onChangeProp","shouldUpdateProp","_React$useState","valueState","updateValue","nextValue","useDimensions","observe","dimensions","setDimensions","rafId","node","measure","requestAnimationFrame","boxModel","addEventListener","removeEventListener","cancelAnimationFrame","_extends","assign","prototype","hasOwnProperty","call","defaultIdContext","prefix","Math","round","random","IdContext","createContext","IdProvider","memo","children","currentContext","useContext","isRoot","context","useMemo","createElement","Provider","useId","idProp","filter","Boolean","join","useIds","prefixes","id","map","useOptionalPart","partId","setId","isRendered","useDisclosure","_props","onCloseProp","onClose","onOpenProp","onOpen","isOpenProp","isOpen","onOpenPropCallbackRef","onClosePropCallbackRef","defaultIsOpen","isOpenState","setIsOpen","_useControllableProp","onToggle","action","getButtonProps","onClick","getDisclosureProps","hidden","useEventCallback","callback","event","concat","useEventListener","handler","env","options","listener","_runIfFn","document","_runIfFn2","useEventListenerMap","listeners","Map","currentListeners","add","el","type","pointerEventListener","set","__listener","remove","_listeners$current$ge","get","forEach","useUpdateEffect","effect","mounted","useFocusEffect","shouldFocus","preventScroll","nextTick","preventReturnFocus","containerRef","activeElement","useFocusOnHide","shouldFocusProp","visible","focusRef","usePointerEvent","eventName","useFocusOnPointerDown","elements","enabled","isSafari","doc","els","isValidTarget","some","elementOrRef","preventDefault","defaultOptions","useFocusOnShow","_options","element","autoFocus","onFocus","tabbableEls","useUnmountEffect","useForceUpdate","unloadingRef","count","setCount","useInterval","delay","intervalId","tick","setInterval","clearInterval","useLatestRef","assignRef","error","Error","useMergeRefs","refs","every","useMouseDownRef","shouldListen","mouseDownRef","useOutsideClick","_props$enabled","savedHandler","stateRef","isPointerDown","ignoreEmulatedMouseEvents","onPointerDown","e","isValidEvent","onMouseUp","onTouchEnd","_ref$current","button","body","usePanGesture","onPan","onPanStart","onPanEnd","onPanSessionStart","onPanSessionEnd","threshold","hasPanEvents","panSession","handlers","onSessionStart","onSessionEnd","onStart","onMove","onEnd","info","_panSession$current","updateHandlers","_panSession$current2","end","usePrevious","isPrintableCharacter","test","useShortcut","_props$timeout","_props$preventDefault","setKeys","timeoutRef","flush","clearKeysAfterDelay","onKeyDown","keysCopy","pop","_keysCopy","stopPropagation","useTimeout","useWhyDidYouUpdate","name","previousProps","allKeys","changesObj","from","to","console","log"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport React__default, { useState, useCallback, useEffect, useRef } from 'react';\nimport { isBrowser, runIfFn, getBox, callAllHandlers, wrapPointerEventHandler, getPointerEventName, hasFocusWithin, focus, getActiveElement, contains, isTabbable, detectBrowser, isRefObject, isActiveElement, getOwnerDocument, getAllFocusable, noop, PanSession } from '@chakra-ui/utils';\nimport copy from 'copy-to-clipboard';\n\n/**\n * React hook to manage boolean (on - off) states\n *\n * @param initialState the initial boolean state value\n */\nfunction useBoolean(initialState) {\n  if (initialState === void 0) {\n    initialState = false;\n  }\n\n  var _useState = useState(initialState),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var on = useCallback(function () {\n    setValue(true);\n  }, []);\n  var off = useCallback(function () {\n    setValue(false);\n  }, []);\n  var toggle = useCallback(function () {\n    setValue(function (prev) {\n      return !prev;\n    });\n  }, []);\n  return [value, {\n    on: on,\n    off: off,\n    toggle: toggle\n  }];\n}\n\n/**\n * useSafeLayoutEffect enables us to safely call `useLayoutEffect` on the browser\n * (for SSR reasons)\n *\n * React currently throws a warning when using useLayoutEffect on the server.\n * To get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect in the browser.\n *\n * @see https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\n */\n\nvar useSafeLayoutEffect = isBrowser ? React.useLayoutEffect : React.useEffect;\n\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param value the value or function to persist\n */\n\nfunction useCallbackRef(fn, deps) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  var ref = React.useRef(fn);\n  useSafeLayoutEffect(function () {\n    ref.current = fn;\n  }); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return ref.current == null ? void 0 : ref.current.apply(ref, args);\n  }, deps);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"timeout\"];\n\n/**\n * React hook to copy content to clipboard\n *\n * @param text the text or value to copy\n * @param {Number} [optionsOrTimeout=1500] optionsOrTimeout - delay (in ms) to switch back to initial state once copied.\n * @param {Object} optionsOrTimeout\n * @param {string} optionsOrTimeout.format - set the desired MIME type\n * @param {number} optionsOrTimeout.timeout - delay (in ms) to switch back to initial state once copied.\n */\nfunction useClipboard(text, optionsOrTimeout) {\n  if (optionsOrTimeout === void 0) {\n    optionsOrTimeout = {};\n  }\n\n  var _useState = useState(false),\n      hasCopied = _useState[0],\n      setHasCopied = _useState[1];\n\n  var _ref = typeof optionsOrTimeout === \"number\" ? {\n    timeout: optionsOrTimeout\n  } : optionsOrTimeout,\n      _ref$timeout = _ref.timeout,\n      timeout = _ref$timeout === void 0 ? 1500 : _ref$timeout,\n      copyOptions = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var onCopy = useCallback(function () {\n    var didCopy = copy(text, copyOptions);\n    setHasCopied(didCopy);\n  }, [text, copyOptions]);\n  useEffect(function () {\n    var timeoutId = null;\n\n    if (hasCopied) {\n      timeoutId = window.setTimeout(function () {\n        setHasCopied(false);\n      }, timeout);\n    }\n\n    return function () {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId);\n      }\n    };\n  }, [timeout, hasCopied]);\n  return {\n    value: text,\n    onCopy: onCopy,\n    hasCopied: hasCopied\n  };\n}\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\n\nfunction useConst(init) {\n  var ref = useRef(null);\n\n  if (ref.current === null) {\n    ref.current = typeof init === \"function\" ? init() : init;\n  }\n\n  return ref.current;\n}\n\nfunction useControllableProp(prop, state) {\n  var isControlled = prop !== undefined;\n  var value = isControlled && typeof prop !== \"undefined\" ? prop : state;\n  return [isControlled, value];\n}\n\n/**\n * React hook for using controlling component state.\n * @param props\n */\nfunction useControllableState(props) {\n  var valueProp = props.value,\n      defaultValue = props.defaultValue,\n      onChange = props.onChange,\n      _props$shouldUpdate = props.shouldUpdate,\n      shouldUpdate = _props$shouldUpdate === void 0 ? function (prev, next) {\n    return prev !== next;\n  } : _props$shouldUpdate;\n  var onChangeProp = useCallbackRef(onChange);\n  var shouldUpdateProp = useCallbackRef(shouldUpdate);\n\n  var _React$useState = React.useState(defaultValue),\n      valueState = _React$useState[0],\n      setValue = _React$useState[1];\n\n  var isControlled = valueProp !== undefined;\n  var value = isControlled ? valueProp : valueState;\n  var updateValue = React.useCallback(function (next) {\n    var nextValue = runIfFn(next, value);\n\n    if (!shouldUpdateProp(value, nextValue)) {\n      return;\n    }\n\n    if (!isControlled) {\n      setValue(nextValue);\n    }\n\n    onChangeProp(nextValue);\n  }, [isControlled, onChangeProp, value, shouldUpdateProp]);\n  return [value, updateValue];\n}\n\n/**\n * Reack hook to measure a component's dimensions\n *\n * @param ref ref of the component to measure\n * @param observe if `true`, resize and scroll observers will be turned on\n */\n\nfunction useDimensions(ref, observe) {\n  var _React$useState = React.useState(null),\n      dimensions = _React$useState[0],\n      setDimensions = _React$useState[1];\n\n  var rafId = React.useRef();\n  useSafeLayoutEffect(function () {\n    if (!ref.current) return undefined;\n    var node = ref.current;\n\n    function measure() {\n      rafId.current = requestAnimationFrame(function () {\n        var boxModel = getBox(node);\n        setDimensions(boxModel);\n      });\n    }\n\n    measure();\n\n    if (observe) {\n      window.addEventListener(\"resize\", measure);\n      window.addEventListener(\"scroll\", measure);\n    }\n\n    return function () {\n      if (observe) {\n        window.removeEventListener(\"resize\", measure);\n        window.removeEventListener(\"scroll\", measure);\n      }\n\n      if (rafId.current) {\n        cancelAnimationFrame(rafId.current);\n      }\n    };\n  }, [observe]);\n  return dimensions;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n// This implementation is heavily inspired by react-aria's implementation\nvar defaultIdContext = {\n  prefix: Math.round(Math.random() * 10000000000),\n  current: 0\n};\nvar IdContext = /*#__PURE__*/React.createContext(defaultIdContext);\nvar IdProvider = /*#__PURE__*/React.memo(function (_ref) {\n  var children = _ref.children;\n  var currentContext = React.useContext(IdContext);\n  var isRoot = currentContext === defaultIdContext;\n  var context = React.useMemo(function () {\n    return {\n      prefix: isRoot ? 0 : ++currentContext.prefix,\n      current: 0\n    };\n  }, [isRoot, currentContext]);\n  return /*#__PURE__*/React.createElement(IdContext.Provider, {\n    value: context\n  }, children);\n});\nfunction useId(idProp, prefix) {\n  var context = React.useContext(IdContext);\n  return React.useMemo(function () {\n    return idProp || [prefix, context.prefix, ++context.current].filter(Boolean).join(\"-\");\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [idProp, prefix]);\n}\n/**\n * Reack hook to generate ids for use in compound components\n *\n * @param idProp the external id passed from the user\n * @param prefixes array of prefixes to use\n *\n * @example\n *\n * ```js\n * const [buttonId, menuId] = useIds(\"52\", \"button\", \"menu\")\n *\n * // buttonId will be `button-52`\n * // menuId will be `menu-52`\n * ```\n */\n\nfunction useIds(idProp) {\n  for (var _len = arguments.length, prefixes = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    prefixes[_key - 1] = arguments[_key];\n  }\n\n  var id = useId(idProp);\n  return React.useMemo(function () {\n    return prefixes.map(function (prefix) {\n      return prefix + \"-\" + id;\n    });\n  }, [id, prefixes]);\n}\n/**\n * Used to generate an id, and after render, check if that id is rendered so we know\n * if we can use it in places such as `aria-labelledby`.\n *\n * @param partId - The unique id for the component part\n *\n * @example\n * const { ref, id } = useOptionalPart<HTMLInputElement>(`${id}-label`)\n */\n\nfunction useOptionalPart(partId) {\n  var _React$useState = React.useState(null),\n      id = _React$useState[0],\n      setId = _React$useState[1];\n\n  var ref = React.useCallback(function (node) {\n    setId(node ? partId : null);\n  }, [partId]);\n  return {\n    ref: ref,\n    id: id,\n    isRendered: Boolean(id)\n  };\n}\n\nfunction useDisclosure(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      onCloseProp = _props.onClose,\n      onOpenProp = _props.onOpen,\n      isOpenProp = _props.isOpen,\n      idProp = _props.id;\n  var onOpenPropCallbackRef = useCallbackRef(onOpenProp);\n  var onClosePropCallbackRef = useCallbackRef(onCloseProp);\n\n  var _React$useState = React.useState(props.defaultIsOpen || false),\n      isOpenState = _React$useState[0],\n      setIsOpen = _React$useState[1];\n\n  var _useControllableProp = useControllableProp(isOpenProp, isOpenState),\n      isControlled = _useControllableProp[0],\n      isOpen = _useControllableProp[1];\n\n  var id = useId(idProp, \"disclosure\");\n  var onClose = React.useCallback(function () {\n    if (!isControlled) {\n      setIsOpen(false);\n    }\n\n    onClosePropCallbackRef == null ? void 0 : onClosePropCallbackRef();\n  }, [isControlled, onClosePropCallbackRef]);\n  var onOpen = React.useCallback(function () {\n    if (!isControlled) {\n      setIsOpen(true);\n    }\n\n    onOpenPropCallbackRef == null ? void 0 : onOpenPropCallbackRef();\n  }, [isControlled, onOpenPropCallbackRef]);\n  var onToggle = React.useCallback(function () {\n    var action = isOpen ? onClose : onOpen;\n    action();\n  }, [isOpen, onOpen, onClose]);\n  return {\n    isOpen: !!isOpen,\n    onOpen: onOpen,\n    onClose: onClose,\n    onToggle: onToggle,\n    isControlled: isControlled,\n    getButtonProps: function getButtonProps(props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return _extends({}, props, {\n        \"aria-expanded\": \"true\",\n        \"aria-controls\": id,\n        onClick: callAllHandlers(props.onClick, onToggle)\n      });\n    },\n    getDisclosureProps: function getDisclosureProps(props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return _extends({}, props, {\n        hidden: !isOpen,\n        id: id\n      });\n    }\n  };\n}\n\n/**\n * React hook for performant `useCallbacks`\n *\n * @see https://github.com/facebook/react/issues/14099#issuecomment-440013892\n *\n * @deprecated Use `useCallbackRef` instead. `useEventCallback` will be removed\n * in a future version.\n */\n\nfunction useEventCallback(callback) {\n  var ref = React.useRef(callback);\n  useSafeLayoutEffect(function () {\n    ref.current = callback;\n  });\n  return React.useCallback(function (event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return ref.current.apply(ref, [event].concat(args));\n  }, []);\n}\n\n/**\n * React hook to manage browser event listeners\n *\n * @param event the event name\n * @param handler the event handler function to execute\n * @param doc the dom environment to execute against (defaults to `document`)\n * @param options the event listener options\n *\n * @internal\n */\nfunction useEventListener(event, handler, env, options) {\n  var listener = useCallbackRef(handler);\n  React.useEffect(function () {\n    var _runIfFn;\n\n    var node = (_runIfFn = runIfFn(env)) != null ? _runIfFn : document;\n    node.addEventListener(event, listener, options);\n    return function () {\n      node.removeEventListener(event, listener, options);\n    };\n  }, [event, env, options, listener]);\n  return function () {\n    var _runIfFn2;\n\n    var node = (_runIfFn2 = runIfFn(env)) != null ? _runIfFn2 : document;\n    node.removeEventListener(event, listener, options);\n  };\n}\n\nfunction useEventListenerMap() {\n  var listeners = React.useRef(new Map());\n  var currentListeners = listeners.current;\n  var add = React.useCallback(function (el, type, listener, options) {\n    var pointerEventListener = wrapPointerEventHandler(listener, type === \"pointerdown\");\n    listeners.current.set(listener, {\n      __listener: pointerEventListener,\n      type: getPointerEventName(type),\n      el: el,\n      options: options\n    });\n    el.addEventListener(type, pointerEventListener, options);\n  }, []);\n  var remove = React.useCallback(function (el, type, listener, options) {\n    var _listeners$current$ge = listeners.current.get(listener),\n        pointerEventListener = _listeners$current$ge.__listener;\n\n    el.removeEventListener(type, pointerEventListener, options);\n    listeners.current[\"delete\"](pointerEventListener);\n  }, []);\n  React.useEffect(function () {\n    return function () {\n      currentListeners.forEach(function (value, key) {\n        remove(value.el, value.type, key, value.options);\n      });\n    };\n  }, [remove, currentListeners]);\n  return {\n    add: add,\n    remove: remove\n  };\n}\n\n/**\n * React effect hook that invokes only on update.\n * It doesn't invoke on mount\n */\n\nvar useUpdateEffect = function useUpdateEffect(effect, deps) {\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    if (mounted.current) {\n      return effect();\n    }\n\n    mounted.current = true;\n    return undefined; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  return mounted.current;\n};\n\n/**\n * React hook to focus an element conditionally\n *\n * @param ref the ref of the element to focus\n * @param options focus management options\n */\nfunction useFocusEffect(ref, options) {\n  var shouldFocus = options.shouldFocus,\n      preventScroll = options.preventScroll;\n  useUpdateEffect(function () {\n    var node = ref.current;\n    if (!node || !shouldFocus) return;\n\n    if (!hasFocusWithin(node)) {\n      focus(node, {\n        preventScroll: preventScroll,\n        nextTick: true\n      });\n    }\n  }, [shouldFocus, ref, preventScroll]);\n}\n\nfunction preventReturnFocus(containerRef) {\n  var el = containerRef.current;\n  if (!el) return false;\n  var activeElement = getActiveElement(el);\n  if (!activeElement) return false;\n  if (contains(el, activeElement)) return false;\n  if (isTabbable(activeElement)) return true;\n  return false;\n}\n/**\n * Popover hook to manage the focus when the popover closes or hides.\n *\n * We either want to return focus back to the popover trigger or\n * let focus proceed normally if user moved to another interactive\n * element in the viewport.\n */\n\n\nfunction useFocusOnHide(containerRef, options) {\n  var shouldFocusProp = options.shouldFocus,\n      visible = options.visible,\n      focusRef = options.focusRef;\n  var shouldFocus = shouldFocusProp && !visible;\n  useUpdateEffect(function () {\n    if (!shouldFocus) return;\n\n    if (preventReturnFocus(containerRef)) {\n      return;\n    }\n\n    var el = (focusRef == null ? void 0 : focusRef.current) || containerRef.current;\n\n    if (el) {\n      focus(el, {\n        nextTick: true\n      });\n    }\n  }, [shouldFocus, containerRef, focusRef]);\n}\n\n/**\n * Credit goes to `framer-motion` of this useful utilities.\n * License can be found here: https://github.com/framer/motion\n */\n/**\n * @internal\n */\n\nfunction usePointerEvent(env, eventName, handler, options) {\n  return useEventListener(getPointerEventName(eventName), wrapPointerEventHandler(handler, eventName === \"pointerdown\"), env, options);\n}\n\n/**\n * Polyfill to get `relatedTarget` working correctly consistently\n * across all browsers.\n *\n * It ensures that elements receives focus on pointer down if\n * it's not the active active element.\n *\n * @internal\n */\nfunction useFocusOnPointerDown(props) {\n  var ref = props.ref,\n      elements = props.elements,\n      enabled = props.enabled;\n  var isSafari = detectBrowser(\"Safari\");\n\n  var doc = function doc() {\n    return getOwnerDocument(ref.current);\n  };\n\n  usePointerEvent(doc, \"pointerdown\", function (event) {\n    if (!isSafari || !enabled) return;\n    var target = event.target;\n    var els = elements != null ? elements : [ref];\n    var isValidTarget = els.some(function (elementOrRef) {\n      var el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return contains(el, target);\n    });\n\n    if (!isActiveElement(target) && isValidTarget) {\n      event.preventDefault();\n      focus(target);\n    }\n  });\n}\n\nvar defaultOptions = {\n  preventScroll: true,\n  shouldFocus: false\n};\nfunction useFocusOnShow(target, options) {\n  if (options === void 0) {\n    options = defaultOptions;\n  }\n\n  var _options = options,\n      focusRef = _options.focusRef,\n      preventScroll = _options.preventScroll,\n      shouldFocus = _options.shouldFocus,\n      visible = _options.visible;\n  var element = isRefObject(target) ? target.current : target;\n  var autoFocus = shouldFocus && visible;\n  var onFocus = useCallback(function () {\n    if (!element || !autoFocus) return;\n    if (contains(element, document.activeElement)) return;\n\n    if (focusRef != null && focusRef.current) {\n      focus(focusRef.current, {\n        preventScroll: preventScroll,\n        nextTick: true\n      });\n    } else {\n      var tabbableEls = getAllFocusable(element);\n\n      if (tabbableEls.length > 0) {\n        focus(tabbableEls[0], {\n          preventScroll: preventScroll,\n          nextTick: true\n        });\n      }\n    }\n  }, [autoFocus, preventScroll, element, focusRef]);\n  useUpdateEffect(function () {\n    onFocus();\n  }, [onFocus]);\n  useEventListener(\"transitionend\", onFocus, element);\n}\n\nfunction useUnmountEffect(fn, deps) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  return React.useEffect(function () {\n    return function () {\n      return fn();\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  deps);\n}\n\nfunction useForceUpdate() {\n  var unloadingRef = React.useRef(false);\n\n  var _React$useState = React.useState(0),\n      count = _React$useState[0],\n      setCount = _React$useState[1];\n\n  useUnmountEffect(function () {\n    unloadingRef.current = true;\n  });\n  return React.useCallback(function () {\n    if (!unloadingRef.current) {\n      setCount(count + 1);\n    }\n  }, [count]);\n}\n\n/**\n * React Hook that provides a declarative `setInterval`\n *\n * @param callback the callback to execute at interval\n * @param delay the `setInterval` delay (in ms)\n */\n\nfunction useInterval(callback, delay) {\n  var fn = useCallbackRef(callback);\n  React.useEffect(function () {\n    var intervalId = null;\n\n    var tick = function tick() {\n      return fn();\n    };\n\n    if (delay !== null) {\n      intervalId = window.setInterval(tick, delay);\n    }\n\n    return function () {\n      if (intervalId) {\n        window.clearInterval(intervalId);\n      }\n    };\n  }, [delay, fn]);\n}\n\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param value the value or function to persist\n */\n\nfunction useLatestRef(value) {\n  var ref = React.useRef(null);\n  ref.current = value;\n  return ref;\n}\n\n/* eslint-disable react-hooks/exhaustive-deps */\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (typeof ref === \"function\") {\n    ref(value);\n    return;\n  }\n\n  try {\n    // @ts-ignore\n    ref.current = value;\n  } catch (error) {\n    throw new Error(\"Cannot assign value '\" + value + \"' to ref '\" + ref + \"'\");\n  }\n}\n/**\n * React hook that merges react refs into a single memoized function\n *\n * @example\n * import React from \"react\";\n * import { useMergeRefs } from `@chakra-ui/hooks`;\n *\n * const Component = React.forwardRef((props, ref) => {\n *   const internalRef = React.useRef();\n *   return <div {...props} ref={useMergeRefs(internalRef, ref)} />;\n * });\n */\n\nfunction useMergeRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return React.useMemo(function () {\n    if (refs.every(function (ref) {\n      return ref == null;\n    })) {\n      return null;\n    }\n\n    return function (node) {\n      refs.forEach(function (ref) {\n        if (ref) assignRef(ref, node);\n      });\n    };\n  }, refs);\n}\n\n/**\n * @deprecated `useMouseDownRef` will be removed in a future version.\n */\n\nfunction useMouseDownRef(shouldListen) {\n  if (shouldListen === void 0) {\n    shouldListen = true;\n  }\n\n  var mouseDownRef = React__default.useRef();\n  useEventListener(\"mousedown\", function (event) {\n    if (shouldListen) {\n      mouseDownRef.current = event.target;\n    }\n  });\n  return mouseDownRef;\n}\n\n/**\n * Example, used in components like Dialogs and Popovers so they can close\n * when a user clicks outside them.\n */\nfunction useOutsideClick(props) {\n  var ref = props.ref,\n      handler = props.handler,\n      _props$enabled = props.enabled,\n      enabled = _props$enabled === void 0 ? true : _props$enabled;\n  var savedHandler = useCallbackRef(handler);\n  var stateRef = useRef({\n    isPointerDown: false,\n    ignoreEmulatedMouseEvents: false\n  });\n  var state = stateRef.current;\n  useEffect(function () {\n    if (!enabled) return;\n\n    var onPointerDown = function onPointerDown(e) {\n      if (isValidEvent(e, ref)) {\n        state.isPointerDown = true;\n      }\n    };\n\n    var onMouseUp = function onMouseUp(event) {\n      if (state.ignoreEmulatedMouseEvents) {\n        state.ignoreEmulatedMouseEvents = false;\n        return;\n      }\n\n      if (state.isPointerDown && handler && isValidEvent(event, ref)) {\n        state.isPointerDown = false;\n        savedHandler(event);\n      }\n    };\n\n    var onTouchEnd = function onTouchEnd(event) {\n      state.ignoreEmulatedMouseEvents = true;\n\n      if (handler && state.isPointerDown && isValidEvent(event, ref)) {\n        state.isPointerDown = false;\n        savedHandler(event);\n      }\n    };\n\n    var doc = getOwnerDocument(ref.current);\n    doc.addEventListener(\"mousedown\", onPointerDown, true);\n    doc.addEventListener(\"mouseup\", onMouseUp, true);\n    doc.addEventListener(\"touchstart\", onPointerDown, true);\n    doc.addEventListener(\"touchend\", onTouchEnd, true);\n    return function () {\n      doc.removeEventListener(\"mousedown\", onPointerDown, true);\n      doc.removeEventListener(\"mouseup\", onMouseUp, true);\n      doc.removeEventListener(\"touchstart\", onPointerDown, true);\n      doc.removeEventListener(\"touchend\", onTouchEnd, true);\n    };\n  }, [handler, ref, savedHandler, state, enabled]);\n}\n\nfunction isValidEvent(event, ref) {\n  var _ref$current;\n\n  var target = event.target;\n  if (event.button > 0) return false; // if the event target is no longer in the document\n\n  if (target) {\n    var doc = getOwnerDocument(target);\n    if (!doc.body.contains(target)) return false;\n  }\n\n  return !((_ref$current = ref.current) != null && _ref$current.contains(target));\n}\n\nfunction usePanGesture(ref, props) {\n  var onPan = props.onPan,\n      onPanStart = props.onPanStart,\n      onPanEnd = props.onPanEnd,\n      onPanSessionStart = props.onPanSessionStart,\n      onPanSessionEnd = props.onPanSessionEnd,\n      threshold = props.threshold;\n  var hasPanEvents = Boolean(onPan || onPanStart || onPanEnd || onPanSessionStart || onPanSessionEnd);\n  var panSession = useRef(null);\n  var handlers = {\n    onSessionStart: onPanSessionStart,\n    onSessionEnd: onPanSessionEnd,\n    onStart: onPanStart,\n    onMove: onPan,\n    onEnd: function onEnd(event, info) {\n      panSession.current = null;\n      onPanEnd == null ? void 0 : onPanEnd(event, info);\n    }\n  };\n  useEffect(function () {\n    var _panSession$current;\n\n    (_panSession$current = panSession.current) == null ? void 0 : _panSession$current.updateHandlers(handlers);\n  });\n\n  function onPointerDown(event) {\n    panSession.current = new PanSession(event, handlers, threshold);\n  }\n\n  usePointerEvent(function () {\n    return ref.current;\n  }, \"pointerdown\", hasPanEvents ? onPointerDown : noop);\n  useUnmountEffect(function () {\n    var _panSession$current2;\n\n    (_panSession$current2 = panSession.current) == null ? void 0 : _panSession$current2.end();\n    panSession.current = null;\n  });\n}\n\nfunction usePrevious(value) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\n/**\n * Checks if the key pressed is a printable character\n * and can be used for shortcut navigation\n */\n\nfunction isPrintableCharacter(event) {\n  var key = event.key;\n  return key.length === 1 || key.length > 1 && /[^a-zA-Z0-9]/.test(key);\n}\n\n/**\n * React hook that provides an enhanced keydown handler,\n * that's used for key navigation within menus, select dropdowns.\n */\nfunction useShortcut(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      _props$timeout = _props.timeout,\n      timeout = _props$timeout === void 0 ? 300 : _props$timeout,\n      _props$preventDefault = _props.preventDefault,\n      preventDefault = _props$preventDefault === void 0 ? function () {\n    return true;\n  } : _props$preventDefault;\n\n  var _React$useState = React.useState([]),\n      keys = _React$useState[0],\n      setKeys = _React$useState[1];\n\n  var timeoutRef = React.useRef();\n\n  var flush = function flush() {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = null;\n    }\n  };\n\n  var clearKeysAfterDelay = function clearKeysAfterDelay() {\n    flush();\n    timeoutRef.current = setTimeout(function () {\n      setKeys([]);\n      timeoutRef.current = null;\n    }, timeout);\n  };\n\n  React.useEffect(function () {\n    return flush;\n  }, []);\n\n  function onKeyDown(fn) {\n    return function (event) {\n      if (event.key === \"Backspace\") {\n        var keysCopy = [].concat(keys);\n        keysCopy.pop();\n        setKeys(keysCopy);\n        return;\n      }\n\n      if (isPrintableCharacter(event)) {\n        var _keysCopy = keys.concat(event.key);\n\n        if (preventDefault(event)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        setKeys(_keysCopy);\n        fn(_keysCopy.join(\"\"));\n        clearKeysAfterDelay();\n      }\n    };\n  }\n\n  return onKeyDown;\n}\n\n/**\n * React hook that provides a declarative `setTimeout`\n *\n * @param callback the callback to run after specified delay\n * @param delay the delay (in ms)\n */\n\nfunction useTimeout(callback, delay) {\n  var fn = useCallbackRef(callback);\n  React.useEffect(function () {\n    if (delay == null) return undefined;\n    var timeoutId = null;\n    timeoutId = window.setTimeout(function () {\n      fn();\n    }, delay);\n    return function () {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId);\n      }\n    };\n  }, [delay, fn]);\n}\n\nfunction useWhyDidYouUpdate(name, props) {\n  var previousProps = React.useRef();\n  React.useEffect(function () {\n    if (previousProps.current) {\n      var allKeys = Object.keys(_extends({}, previousProps.current, props));\n      var changesObj = {};\n      allKeys.forEach(function (key) {\n        if (previousProps.current[key] !== props[key]) {\n          changesObj[key] = {\n            from: previousProps.current[key],\n            to: props[key]\n          };\n        }\n      });\n\n      if (Object.keys(changesObj).length) {\n        console.log(\"[why-did-you-update]\", name, changesObj);\n      }\n    }\n\n    previousProps.current = props;\n  });\n}\n\nexport { IdProvider, assignRef, useBoolean, useCallbackRef, useClipboard, useConst, useControllableProp, useControllableState, useDimensions, useDisclosure, useEventCallback, useEventListener, useEventListenerMap, useFocusEffect, useFocusOnHide, useFocusOnPointerDown, useFocusOnShow, useForceUpdate, useId, useIds, useInterval, useLatestRef, useMergeRefs, useMouseDownRef, useOptionalPart, useOutsideClick, usePanGesture, usePointerEvent, usePrevious, useSafeLayoutEffect, useShortcut, useTimeout, useUnmountEffect, useUpdateEffect, useWhyDidYouUpdate };\n"]},"metadata":{},"sourceType":"module"}