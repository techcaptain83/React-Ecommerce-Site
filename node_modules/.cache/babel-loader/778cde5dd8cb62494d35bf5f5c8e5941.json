{"ast":null,"code":"export * from 'css-box-model';\nexport { default as mergeWith } from 'lodash.mergewith';\nimport sync, { cancelSync, getFrameData } from 'framesync';\n\nfunction getFirstItem(array) {\n  return array != null && array.length ? array[0] : undefined;\n}\n\nfunction getLastItem(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nfunction getPrevItem(index, array, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var prevIndex = getPrevIndex(index, array.length, loop);\n  return array[prevIndex];\n}\n\nfunction getNextItem(index, array, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var nextIndex = getNextIndex(index, array.length, 1, loop);\n  return array[nextIndex];\n}\n\nfunction removeIndex(array, index) {\n  return array.filter(function (_, idx) {\n    return idx !== index;\n  });\n}\n\nfunction addItem(array, item) {\n  return [].concat(array, [item]);\n}\n\nfunction removeItem(array, item) {\n  return array.filter(function (eachItem) {\n    return eachItem !== item;\n  });\n}\n/**\n * Get the next index based on the current index and step.\n *\n * @param currentIndex the current index\n * @param length the total length or count of items\n * @param step the number of steps\n * @param loop whether to circle back once `currentIndex` is at the start/end\n */\n\n\nfunction getNextIndex(currentIndex, length, step, loop) {\n  if (step === void 0) {\n    step = 1;\n  }\n\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var lastIndex = length - 1;\n\n  if (currentIndex === -1) {\n    return step > 0 ? 0 : lastIndex;\n  }\n\n  var nextIndex = currentIndex + step;\n\n  if (nextIndex < 0) {\n    return loop ? lastIndex : 0;\n  }\n\n  if (nextIndex >= length) {\n    if (loop) return 0;\n    return currentIndex > length ? length : currentIndex;\n  }\n\n  return nextIndex;\n}\n/**\n * Get's the previous index based on the current index.\n * Mostly used for keyboard navigation.\n *\n * @param index - the current index\n * @param count - the length or total count of items in the array\n * @param loop - whether we should circle back to the\n * first/last once `currentIndex` is at the start/end\n */\n\n\nfunction getPrevIndex(index, count, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  return getNextIndex(index, count, -1, loop);\n}\n/**\n * Converts an array into smaller chunks or groups.\n *\n * @param array the array to chunk into group\n * @param size the length of each chunk\n */\n\n\nfunction chunk(array, size) {\n  return array.reduce(function (rows, currentValue, index) {\n    if (index % size === 0) {\n      rows.push([currentValue]);\n    } else {\n      rows[rows.length - 1].push(currentValue);\n    }\n\n    return rows;\n  }, []);\n}\n/**\n * Gets the next item based on a search string\n *\n * @param items array of items\n * @param searchString the search string\n * @param itemToString resolves an item to string\n * @param currentItem the current selected item\n */\n\n\nfunction getNextItemFromSearch(items, searchString, itemToString, currentItem) {\n  if (searchString == null) {\n    return currentItem;\n  } // If current item doesn't exist, find the item that matches the search string\n\n\n  if (!currentItem) {\n    var foundItem = items.find(function (item) {\n      return itemToString(item).toLowerCase().startsWith(searchString.toLowerCase());\n    });\n    return foundItem;\n  } // Filter items for ones that match the search string (case insensitive)\n\n\n  var matchingItems = items.filter(function (item) {\n    return itemToString(item).toLowerCase().startsWith(searchString.toLowerCase());\n  }); // If there's a match, let's get the next item to select\n\n  if (matchingItems.length > 0) {\n    var nextIndex; // If the currentItem is in the available items, we move to the next available option\n\n    if (matchingItems.includes(currentItem)) {\n      var currentIndex = matchingItems.indexOf(currentItem);\n      nextIndex = currentIndex + 1;\n\n      if (nextIndex === matchingItems.length) {\n        nextIndex = 0;\n      }\n\n      return matchingItems[nextIndex];\n    } // Else, we pick the first item in the available items\n\n\n    nextIndex = items.indexOf(matchingItems[0]);\n    return items[nextIndex];\n  } // a decent fallback to the currentItem\n\n\n  return currentItem;\n} // Number assertions\n\n\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\n\nfunction isNotNumber(value) {\n  return typeof value !== \"number\" || Number.isNaN(value) || !Number.isFinite(value);\n}\n\nfunction isNumeric(value) {\n  return value != null && value - parseFloat(value) + 1 >= 0;\n} // Array assertions\n\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n\nfunction isEmptyArray(value) {\n  return isArray(value) && value.length === 0;\n} // Function assertions\n\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n} // Generic assertions\n\n\nfunction isDefined(value) {\n  return typeof value !== \"undefined\" && value !== undefined;\n}\n\nfunction isUndefined(value) {\n  return typeof value === \"undefined\" || value === undefined;\n} // Object assertions\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type === \"object\" || type === \"function\") && !isArray(value);\n}\n\nfunction isEmptyObject(value) {\n  return isObject(value) && Object.keys(value).length === 0;\n}\n\nfunction isNotEmptyObject(value) {\n  return value && !isEmptyObject(value);\n}\n\nfunction isNull(value) {\n  return value == null;\n} // String assertions\n\n\nfunction isString(value) {\n  return Object.prototype.toString.call(value) === \"[object String]\";\n}\n\nfunction isCssVar(value) {\n  return /^var\\(--.+\\)$/.test(value);\n} // Empty assertions\n\n\nfunction isEmpty(value) {\n  if (isArray(value)) return isEmptyArray(value);\n  if (isObject(value)) return isEmptyObject(value);\n  if (value == null || value === \"\") return true;\n  return false;\n}\n\nvar __DEV__ = process.env.NODE_ENV !== \"production\";\n\nvar __TEST__ = process.env.NODE_ENV === \"test\";\n\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\n\nfunction isInputEvent(value) {\n  return value && isObject(value) && isObject(value.target);\n}\n\nfunction omit(object, keys) {\n  var result = {};\n  Object.keys(object).forEach(function (key) {\n    if (keys.includes(key)) return;\n    result[key] = object[key];\n  });\n  return result;\n}\n\nfunction pick(object, keys) {\n  var result = {};\n  keys.forEach(function (key) {\n    if (key in object) {\n      result[key] = object[key];\n    }\n  });\n  return result;\n}\n\nfunction split(object, keys) {\n  var picked = {};\n  var omitted = {};\n  Object.keys(object).forEach(function (key) {\n    if (keys.includes(key)) {\n      picked[key] = object[key];\n    } else {\n      omitted[key] = object[key];\n    }\n  });\n  return [picked, omitted];\n}\n/**\n * Get value from a deeply nested object using a string path.\n * Memoizes the value.\n * @param obj - the object\n * @param path - the string path\n * @param def  - the fallback value\n */\n\n\nfunction get(obj, path, fallback, index) {\n  var key = typeof path === \"string\" ? path.split(\".\") : [path];\n\n  for (index = 0; index < key.length; index += 1) {\n    if (!obj) break;\n    obj = obj[key[index]];\n  }\n\n  return obj === undefined ? fallback : obj;\n}\n\nvar memoize = function memoize(fn) {\n  var cache = new WeakMap();\n\n  var memoizedFn = function memoizedFn(obj, path, fallback, index) {\n    if (typeof obj === \"undefined\") {\n      return fn(obj, path, fallback);\n    }\n\n    if (!cache.has(obj)) {\n      cache.set(obj, new Map());\n    }\n\n    var map = cache.get(obj);\n\n    if (map.has(path)) {\n      return map.get(path);\n    }\n\n    var value = fn(obj, path, fallback, index);\n    map.set(path, value);\n    return value;\n  };\n\n  return memoizedFn;\n};\n\nvar memoizedGet = memoize(get);\n/**\n * Get value from deeply nested object, based on path\n * It returns the path value if not found in object\n *\n * @param path - the string path or value\n * @param scale - the string path or value\n */\n\nfunction getWithDefault(path, scale) {\n  return memoizedGet(scale, path, path);\n}\n/**\n * Returns the items of an object that meet the condition specified in a callback function.\n *\n * @param object the object to loop through\n * @param fn The filter function\n */\n\n\nfunction objectFilter(object, fn) {\n  var result = {};\n  Object.keys(object).forEach(function (key) {\n    var value = object[key];\n    var shouldPass = fn(value, key, object);\n\n    if (shouldPass) {\n      result[key] = value;\n    }\n  });\n  return result;\n}\n\nvar filterUndefined = function filterUndefined(object) {\n  return objectFilter(object, function (val) {\n    return val !== null && val !== undefined;\n  });\n};\n\nvar objectKeys = function objectKeys(obj) {\n  return Object.keys(obj);\n};\n/**\n * Object.entries polyfill for Nodev10 compatibility\n */\n\n\nvar fromEntries = function fromEntries(entries) {\n  return entries.reduce(function (carry, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    carry[key] = value;\n    return carry;\n  }, {});\n};\n/**\n * Get the CSS variable ref stored in the theme\n */\n\n\nvar getCSSVar = function getCSSVar(theme, scale, value) {\n  var _theme$__cssMap$$varR, _theme$__cssMap$;\n\n  return (_theme$__cssMap$$varR = (_theme$__cssMap$ = theme.__cssMap[scale + \".\" + value]) == null ? void 0 : _theme$__cssMap$.varRef) != null ? _theme$__cssMap$$varR : value;\n};\n\nfunction analyzeCSSValue(value) {\n  var num = parseFloat(value.toString());\n  var unit = value.toString().replace(String(num), \"\");\n  return {\n    unitless: !unit,\n    value: num,\n    unit: unit\n  };\n}\n\nfunction px(value) {\n  if (value == null) return value;\n\n  var _analyzeCSSValue = analyzeCSSValue(value),\n      unitless = _analyzeCSSValue.unitless;\n\n  return unitless || isNumber(value) ? value + \"px\" : value;\n}\n\nvar sortByBreakpointValue = function sortByBreakpointValue(a, b) {\n  return parseInt(a[1], 10) > parseInt(b[1], 10) ? 1 : -1;\n};\n\nvar sortBps = function sortBps(breakpoints) {\n  return fromEntries(Object.entries(breakpoints).sort(sortByBreakpointValue));\n};\n\nfunction normalize(breakpoints) {\n  var sorted = sortBps(breakpoints);\n  return Object.assign(Object.values(sorted), sorted);\n}\n\nfunction keys(breakpoints) {\n  var value = Object.keys(sortBps(breakpoints));\n  return new Set(value);\n}\n\nfunction subtract(value) {\n  var _px;\n\n  if (!value) return value;\n  value = (_px = px(value)) != null ? _px : value;\n  var factor = value.endsWith(\"px\") ? -1 : // the equivalent of 1px in em using a 16px base\n  -0.0635;\n  return isNumber(value) ? \"\" + (value + factor) : value.replace(/([0-9]+\\.?[0-9]*)/, function (m) {\n    return \"\" + (parseFloat(m) + factor);\n  });\n}\n\nfunction queryString(min, max) {\n  var query = [];\n  if (min) query.push(\"@media screen and (min-width: \" + px(min) + \")\");\n  if (query.length > 0 && max) query.push(\"and\");\n  if (max) query.push(\"@media screen and (max-width: \" + px(max) + \")\");\n  return query.join(\" \");\n}\n\nfunction analyzeBreakpoints(breakpoints) {\n  var _breakpoints$base;\n\n  if (!breakpoints) return null;\n  breakpoints.base = (_breakpoints$base = breakpoints.base) != null ? _breakpoints$base : \"0px\";\n  var normalized = normalize(breakpoints);\n  var queries = Object.entries(breakpoints).sort(sortByBreakpointValue).map(function (_ref, index, entry) {\n    var _entry;\n\n    var breakpoint = _ref[0],\n        minW = _ref[1];\n\n    var _ref2 = (_entry = entry[index + 1]) != null ? _entry : [],\n        maxW = _ref2[1];\n\n    maxW = parseFloat(maxW) > 0 ? subtract(maxW) : undefined;\n    return {\n      breakpoint: breakpoint,\n      minW: minW,\n      maxW: maxW,\n      maxWQuery: queryString(null, maxW),\n      minWQuery: queryString(minW),\n      minMaxQuery: queryString(minW, maxW)\n    };\n  });\n\n  var _keys = keys(breakpoints);\n\n  var _keysArr = Array.from(_keys.values());\n\n  return {\n    keys: _keys,\n    normalized: normalized,\n    isResponsive: function isResponsive(test) {\n      var keys = Object.keys(test);\n      return keys.length > 0 && keys.every(function (key) {\n        return _keys.has(key);\n      });\n    },\n    asObject: sortBps(breakpoints),\n    asArray: normalize(breakpoints),\n    details: queries,\n    media: [null].concat(normalized.map(function (minW) {\n      return queryString(minW);\n    }).slice(1)),\n    toArrayValue: function toArrayValue(test) {\n      if (!isObject(test)) {\n        throw new Error(\"toArrayValue: value must be an object\");\n      }\n\n      var result = _keysArr.map(function (bp) {\n        var _test$bp;\n\n        return (_test$bp = test[bp]) != null ? _test$bp : null;\n      });\n\n      while (getLastItem(result) === null) {\n        result.pop();\n      }\n\n      return result;\n    },\n    toObjectValue: function toObjectValue(test) {\n      if (!Array.isArray(test)) {\n        throw new Error(\"toObjectValue: value must be an array\");\n      }\n\n      return test.reduce(function (acc, value, index) {\n        var key = _keysArr[index];\n        if (key != null && value != null) acc[key] = value;\n        return acc;\n      }, {});\n    }\n  };\n}\n\nfunction isElement(el) {\n  return el != null && typeof el == \"object\" && \"nodeType\" in el && el.nodeType === Node.ELEMENT_NODE;\n}\n\nfunction isHTMLElement(el) {\n  var _el$ownerDocument$def;\n\n  if (!isElement(el)) {\n    return false;\n  }\n\n  var win = (_el$ownerDocument$def = el.ownerDocument.defaultView) != null ? _el$ownerDocument$def : window;\n  return el instanceof win.HTMLElement;\n}\n\nfunction getOwnerWindow(node) {\n  var _getOwnerDocument$def, _getOwnerDocument;\n\n  return isElement(node) ? (_getOwnerDocument$def = (_getOwnerDocument = getOwnerDocument(node)) == null ? void 0 : _getOwnerDocument.defaultView) != null ? _getOwnerDocument$def : window : window;\n}\n\nfunction getOwnerDocument(node) {\n  var _node$ownerDocument;\n\n  return isElement(node) ? (_node$ownerDocument = node.ownerDocument) != null ? _node$ownerDocument : document : document;\n}\n\nfunction getEventWindow(event) {\n  var _view;\n\n  return (_view = event.view) != null ? _view : window;\n}\n\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\n\nvar isBrowser = canUseDOM();\n\nvar dataAttr = function dataAttr(condition) {\n  return condition ? \"\" : undefined;\n};\n\nvar ariaAttr = function ariaAttr(condition) {\n  return condition ? true : undefined;\n};\n\nvar cx = function cx() {\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n\n  return classNames.filter(Boolean).join(\" \");\n};\n\nfunction getActiveElement(node) {\n  var doc = getOwnerDocument(node);\n  return doc == null ? void 0 : doc.activeElement;\n}\n\nfunction contains(parent, child) {\n  if (!parent) return false;\n  return parent === child || parent.contains(child);\n}\n\nfunction addDomEvent(target, eventName, handler, options) {\n  target.addEventListener(eventName, handler, options);\n  return function () {\n    target.removeEventListener(eventName, handler, options);\n  };\n}\n/**\n * Get the normalized event key across all browsers\n * @param event keyboard event\n */\n\n\nfunction normalizeEventKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  var isArrowKey = keyCode >= 37 && keyCode <= 40 && key.indexOf(\"Arrow\") !== 0;\n  var eventKey = isArrowKey ? \"Arrow\" + key : key;\n  return eventKey;\n}\n\nfunction getRelatedTarget(event) {\n  var _event$target, _event$relatedTarget;\n\n  var target = (_event$target = event.target) != null ? _event$target : event.currentTarget;\n  var activeElement = getActiveElement(target);\n  return (_event$relatedTarget = event.relatedTarget) != null ? _event$relatedTarget : activeElement;\n}\n\nfunction isRightClick(event) {\n  return event.button !== 0;\n} // Really great work done by Diego Haz on this one\n\n\nvar hasDisplayNone = function hasDisplayNone(element) {\n  return window.getComputedStyle(element).display === \"none\";\n};\n\nvar hasTabIndex = function hasTabIndex(element) {\n  return element.hasAttribute(\"tabindex\");\n};\n\nvar hasNegativeTabIndex = function hasNegativeTabIndex(element) {\n  return hasTabIndex(element) && element.tabIndex === -1;\n};\n\nfunction isDisabled(element) {\n  return Boolean(element.getAttribute(\"disabled\")) === true || Boolean(element.getAttribute(\"aria-disabled\")) === true;\n}\n\nfunction isInputElement(element) {\n  return isHTMLElement(element) && element.tagName.toLowerCase() === \"input\" && \"select\" in element;\n}\n\nfunction isActiveElement(element) {\n  var doc = isHTMLElement(element) ? getOwnerDocument(element) : document;\n  return doc.activeElement === element;\n}\n\nfunction hasFocusWithin(element) {\n  if (!document.activeElement) return false;\n  return element.contains(document.activeElement);\n}\n\nfunction isHidden(element) {\n  if (element.parentElement && isHidden(element.parentElement)) return true;\n  return element.hidden;\n}\n\nfunction isContentEditable(element) {\n  var value = element.getAttribute(\"contenteditable\");\n  return value !== \"false\" && value != null;\n}\n\nfunction isFocusable(element) {\n  if (!isHTMLElement(element) || isHidden(element) || isDisabled(element)) {\n    return false;\n  }\n\n  var localName = element.localName;\n  var focusableTags = [\"input\", \"select\", \"textarea\", \"button\"];\n  if (focusableTags.indexOf(localName) >= 0) return true;\n  var others = {\n    a: function a() {\n      return element.hasAttribute(\"href\");\n    },\n    audio: function audio() {\n      return element.hasAttribute(\"controls\");\n    },\n    video: function video() {\n      return element.hasAttribute(\"controls\");\n    }\n  };\n\n  if (localName in others) {\n    return others[localName]();\n  }\n\n  if (isContentEditable(element)) return true;\n  return hasTabIndex(element);\n}\n\nfunction isTabbable(element) {\n  if (!element) return false;\n  return isHTMLElement(element) && isFocusable(element) && !hasNegativeTabIndex(element);\n}\n\nvar focusableElList = [\"input:not([disabled])\", \"select:not([disabled])\", \"textarea:not([disabled])\", \"embed\", \"iframe\", \"object\", \"a[href]\", \"area[href]\", \"button:not([disabled])\", \"[tabindex]\", \"audio[controls]\", \"video[controls]\", \"*[tabindex]:not([aria-disabled])\", \"*[contenteditable]\"];\nvar focusableElSelector = focusableElList.join();\n\nfunction getAllFocusable(container) {\n  var focusableEls = Array.from(container.querySelectorAll(focusableElSelector));\n  focusableEls.unshift(container);\n  return focusableEls.filter(isFocusable).filter(function (el) {\n    return window.getComputedStyle(el).display !== \"none\";\n  });\n}\n\nfunction getFirstFocusable(container) {\n  var allFocusable = getAllFocusable(container);\n  return allFocusable.length ? allFocusable[0] : null;\n}\n\nfunction getAllTabbable(container, fallbackToFocusable) {\n  var allFocusable = Array.from(container.querySelectorAll(focusableElSelector));\n  var allTabbable = allFocusable.filter(isTabbable);\n\n  if (isTabbable(container)) {\n    allTabbable.unshift(container);\n  }\n\n  if (!allTabbable.length && fallbackToFocusable) {\n    return allFocusable;\n  }\n\n  return allTabbable;\n}\n\nfunction getFirstTabbableIn(container, fallbackToFocusable) {\n  var _getAllTabbable = getAllTabbable(container, fallbackToFocusable),\n      first = _getAllTabbable[0];\n\n  return first || null;\n}\n\nfunction getLastTabbableIn(container, fallbackToFocusable) {\n  var allTabbable = getAllTabbable(container, fallbackToFocusable);\n  return allTabbable[allTabbable.length - 1] || null;\n}\n\nfunction getNextTabbable(container, fallbackToFocusable) {\n  var allFocusable = getAllFocusable(container);\n  var index = allFocusable.indexOf(document.activeElement);\n  var slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\n\nfunction getPreviousTabbable(container, fallbackToFocusable) {\n  var allFocusable = getAllFocusable(container).reverse();\n  var index = allFocusable.indexOf(document.activeElement);\n  var slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\n\nfunction focusNextTabbable(container, fallbackToFocusable) {\n  var nextTabbable = getNextTabbable(container, fallbackToFocusable);\n\n  if (nextTabbable && isHTMLElement(nextTabbable)) {\n    nextTabbable.focus();\n  }\n}\n\nfunction focusPreviousTabbable(container, fallbackToFocusable) {\n  var previousTabbable = getPreviousTabbable(container, fallbackToFocusable);\n\n  if (previousTabbable && isHTMLElement(previousTabbable)) {\n    previousTabbable.focus();\n  }\n}\n\nfunction matches(element, selectors) {\n  if (\"matches\" in element) return element.matches(selectors);\n  if (\"msMatchesSelector\" in element) return element.msMatchesSelector(selectors);\n  return element.webkitMatchesSelector(selectors);\n}\n\nfunction closest(element, selectors) {\n  if (\"closest\" in element) return element.closest(selectors);\n\n  do {\n    if (matches(element, selectors)) return element;\n    element = element.parentElement || element.parentNode;\n  } while (element !== null && element.nodeType === 1);\n\n  return null;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n/* eslint-disable no-nested-ternary */\n\n\nfunction runIfFn(valueOrFn) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return isFunction(valueOrFn) ? valueOrFn.apply(void 0, args) : valueOrFn;\n}\n\nfunction callAllHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function func(event) {\n    fns.some(function (fn) {\n      fn == null ? void 0 : fn(event);\n      return event == null ? void 0 : event.defaultPrevented;\n    });\n  };\n}\n\nfunction callAll() {\n  for (var _len3 = arguments.length, fns = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    fns[_key3] = arguments[_key3];\n  }\n\n  return function mergedFn(arg) {\n    fns.forEach(function (fn) {\n      fn == null ? void 0 : fn(arg);\n    });\n  };\n}\n\nvar compose = function compose(fn1) {\n  for (var _len4 = arguments.length, fns = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    fns[_key4 - 1] = arguments[_key4];\n  }\n\n  return fns.reduce(function (f1, f2) {\n    return function () {\n      return f1(f2.apply(void 0, arguments));\n    };\n  }, fn1);\n};\n\nfunction once(fn) {\n  var result;\n  return function func() {\n    if (fn) {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      result = fn.apply(this, args);\n      fn = null;\n    }\n\n    return result;\n  };\n}\n\nvar noop = function noop() {};\n\nvar warn = once(function (options) {\n  return function () {\n    var condition = options.condition,\n        message = options.message;\n\n    if (condition && __DEV__) {\n      console.warn(message);\n    }\n  };\n});\nvar error = once(function (options) {\n  return function () {\n    var condition = options.condition,\n        message = options.message;\n\n    if (condition && __DEV__) {\n      console.error(message);\n    }\n  };\n});\n\nvar pipe = function pipe() {\n  for (var _len6 = arguments.length, fns = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    fns[_key6] = arguments[_key6];\n  }\n\n  return function (v) {\n    return fns.reduce(function (a, b) {\n      return b(a);\n    }, v);\n  };\n};\n\nvar distance1D = function distance1D(a, b) {\n  return Math.abs(a - b);\n};\n\nvar isPoint = function isPoint(point) {\n  return \"x\" in point && \"y\" in point;\n};\n\nfunction distance(a, b) {\n  if (isNumber(a) && isNumber(b)) {\n    return distance1D(a, b);\n  }\n\n  if (isPoint(a) && isPoint(b)) {\n    var xDelta = distance1D(a.x, b.x);\n    var yDelta = distance1D(a.y, b.y);\n    return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2));\n  }\n\n  return 0;\n}\n\nfunction focus(element, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$isActive = _options.isActive,\n      isActive = _options$isActive === void 0 ? isActiveElement : _options$isActive,\n      nextTick = _options.nextTick,\n      _options$preventScrol = _options.preventScroll,\n      preventScroll = _options$preventScrol === void 0 ? true : _options$preventScrol,\n      _options$selectTextIf = _options.selectTextIfInput,\n      selectTextIfInput = _options$selectTextIf === void 0 ? true : _options$selectTextIf;\n  if (!element || isActive(element)) return -1;\n\n  function triggerFocus() {\n    if (!element) {\n      warn({\n        condition: true,\n        message: \"[chakra-ui]: can't call focus() on `null` or `undefined` element\"\n      });\n      return;\n    }\n\n    if (supportsPreventScroll()) {\n      element.focus({\n        preventScroll: preventScroll\n      });\n    } else {\n      element.focus();\n\n      if (preventScroll) {\n        var scrollableElements = getScrollableElements(element);\n        restoreScrollPosition(scrollableElements);\n      }\n    }\n\n    if (isInputElement(element) && selectTextIfInput) {\n      element.select();\n    }\n  }\n\n  if (nextTick) {\n    return requestAnimationFrame(triggerFocus);\n  }\n\n  triggerFocus();\n  return -1;\n}\n\nvar supportsPreventScrollCached = null;\n\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n\n    try {\n      var div = document.createElement(\"div\");\n      div.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n\n      });\n    } catch (e) {// Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element) {\n  var _doc$defaultView;\n\n  var doc = getOwnerDocument(element);\n  var win = (_doc$defaultView = doc.defaultView) != null ? _doc$defaultView : window;\n  var parent = element.parentNode;\n  var scrollableElements = [];\n  var rootScrollingElement = doc.scrollingElement || doc.documentElement;\n\n  while (parent instanceof win.HTMLElement && parent !== rootScrollingElement) {\n    if (parent.offsetHeight < parent.scrollHeight || parent.offsetWidth < parent.scrollWidth) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof win.HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements) {\n  for (var _iterator = _createForOfIteratorHelperLoose(scrollableElements), _step; !(_step = _iterator()).done;) {\n    var _step$value = _step.value,\n        element = _step$value.element,\n        scrollTop = _step$value.scrollTop,\n        scrollLeft = _step$value.scrollLeft;\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n/**\n * Determines whether the children of a disclosure widget\n * should be rendered or not, depending on the lazy behavior.\n *\n * Used in accordion, tabs, popover, menu and other disclosure\n * widgets.\n */\n\n\nfunction determineLazyBehavior(options) {\n  var hasBeenSelected = options.hasBeenSelected,\n      isLazy = options.isLazy,\n      isSelected = options.isSelected,\n      _options$lazyBehavior = options.lazyBehavior,\n      lazyBehavior = _options$lazyBehavior === void 0 ? \"unmount\" : _options$lazyBehavior; // if not lazy, always render the disclosure's content\n\n  if (!isLazy) return true; // if the diclosure is selected, render the disclosure's content\n\n  if (isSelected) return true; // if the disclosure was selected but not active, keep its content active\n\n  if (lazyBehavior === \"keepMounted\" && hasBeenSelected) return true;\n  return false;\n}\n\nvar minSafeInteger = Number.MIN_SAFE_INTEGER || -9007199254740991;\nvar maxSafeInteger = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\nfunction toNumber(value) {\n  var num = parseFloat(value);\n  return isNotNumber(num) ? 0 : num;\n}\n/**\n * Converts a value to a specific precision (or decimal points).\n *\n * Returns a string representing a number in fixed-point notation.\n *\n * @param value the value to convert\n * @param precision the precision or decimal points\n */\n\n\nfunction toPrecision(value, precision) {\n  var nextValue = toNumber(value);\n  var scaleFactor = Math.pow(10, precision != null ? precision : 10);\n  nextValue = Math.round(nextValue * scaleFactor) / scaleFactor;\n  return precision ? nextValue.toFixed(precision) : nextValue.toString();\n}\n/**\n * Counts the number of decimal places a number has\n *\n * @param value the decimal value to count\n */\n\n\nfunction countDecimalPlaces(value) {\n  if (!Number.isFinite(value)) return 0;\n  var e = 1;\n  var p = 0;\n\n  while (Math.round(value * e) / e !== value) {\n    e *= 10;\n    p += 1;\n  }\n\n  return p;\n}\n/**\n * Convert a value to percentage based on lower and upper bound values\n *\n * @param value the value in number\n * @param min the minimum value\n * @param max the maximum value\n */\n\n\nfunction valueToPercent(value, min, max) {\n  return (value - min) * 100 / (max - min);\n}\n/**\n * Calculate the value based on percentage, lower and upper bound values\n *\n * @param percent the percent value in decimals (e.g 0.6, 0.3)\n * @param min the minimum value\n * @param max the maximum value\n */\n\n\nfunction percentToValue(percent, min, max) {\n  return (max - min) * percent + min;\n}\n/**\n * Rounds a specific value to the next or previous step\n *\n * @param value the value to round\n * @param from the number that stepping started from\n * @param step the specified step\n */\n\n\nfunction roundValueToStep(value, from, step) {\n  var nextValue = Math.round((value - from) / step) * step + from;\n  var precision = countDecimalPlaces(step);\n  return toPrecision(nextValue, precision);\n}\n/**\n * Clamps a value to ensure it stays within the min and max range.\n *\n * @param value the value to clamp\n * @param min the minimum value\n * @param max the maximum value\n */\n\n\nfunction clampValue(value, min, max) {\n  if (value == null) return value;\n  warn({\n    condition: max < min,\n    message: \"clamp: max cannot be less than min\"\n  });\n  return Math.min(Math.max(value, min), max);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n/**\n * Credit goes to `framer-motion` of this useful utilities.\n * License can be found here: https://github.com/framer/motion\n */\n\n\nfunction isMouseEvent(event) {\n  var win = getEventWindow(event); // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n\n  if (typeof win.PointerEvent !== \"undefined\" && event instanceof win.PointerEvent) {\n    return !!(event.pointerType === \"mouse\");\n  }\n\n  return event instanceof win.MouseEvent;\n}\n\nfunction isTouchEvent(event) {\n  var hasTouches = !!event.touches;\n  return hasTouches;\n}\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\n\n\nfunction filterPrimaryPointer(eventHandler) {\n  return function (event) {\n    var win = getEventWindow(event);\n    var isMouseEvent = event instanceof win.MouseEvent;\n    var isPrimaryPointer = !isMouseEvent || isMouseEvent && event.button === 0;\n\n    if (isPrimaryPointer) {\n      eventHandler(event);\n    }\n  };\n}\n\nvar defaultPagePoint = {\n  pageX: 0,\n  pageY: 0\n};\n\nfunction pointFromTouch(e, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  var primaryTouch = e.touches[0] || e.changedTouches[0];\n  var point = primaryTouch || defaultPagePoint;\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction pointFromMouse(point, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction extractEventInfo(event, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    point: isTouchEvent(event) ? pointFromTouch(event, pointType) : pointFromMouse(event, pointType)\n  };\n}\n\nfunction getViewportPointFromEvent(event) {\n  return extractEventInfo(event, \"client\");\n}\n\nvar wrapPointerEventHandler = function wrapPointerEventHandler(handler, shouldFilterPrimaryPointer) {\n  if (shouldFilterPrimaryPointer === void 0) {\n    shouldFilterPrimaryPointer = false;\n  }\n\n  var listener = function listener(event) {\n    return handler(event, extractEventInfo(event));\n  };\n\n  return shouldFilterPrimaryPointer ? filterPrimaryPointer(listener) : listener;\n}; // We check for event support via functions in case they've been mocked by a testing suite.\n\n\nvar supportsPointerEvents = function supportsPointerEvents() {\n  return isBrowser && window.onpointerdown === null;\n};\n\nvar supportsTouchEvents = function supportsTouchEvents() {\n  return isBrowser && window.ontouchstart === null;\n};\n\nvar supportsMouseEvents = function supportsMouseEvents() {\n  return isBrowser && window.onmousedown === null;\n};\n\nvar mouseEventNames = {\n  pointerdown: \"mousedown\",\n  pointermove: \"mousemove\",\n  pointerup: \"mouseup\",\n  pointercancel: \"mousecancel\",\n  pointerover: \"mouseover\",\n  pointerout: \"mouseout\",\n  pointerenter: \"mouseenter\",\n  pointerleave: \"mouseleave\"\n};\nvar touchEventNames = {\n  pointerdown: \"touchstart\",\n  pointermove: \"touchmove\",\n  pointerup: \"touchend\",\n  pointercancel: \"touchcancel\"\n};\n\nfunction getPointerEventName(name) {\n  if (supportsPointerEvents()) {\n    return name;\n  }\n\n  if (supportsTouchEvents()) {\n    return touchEventNames[name];\n  }\n\n  if (supportsMouseEvents()) {\n    return mouseEventNames[name];\n  }\n\n  return name;\n}\n\nfunction addPointerEvent(target, eventName, handler, options) {\n  return addDomEvent(target, getPointerEventName(eventName), wrapPointerEventHandler(handler, eventName === \"pointerdown\"), options);\n}\n\nfunction isMultiTouchEvent(event) {\n  return isTouchEvent(event) && event.touches.length > 1;\n}\n/**\n * The event information passed to pan event handlers like `onPan`, `onPanStart`.\n *\n * It contains information about the current state of the tap gesture such as its\n * `point`, `delta`, and `offset`\n */\n\n/**\n * @internal\n *\n * A Pan Session is recognized when the pointer is down\n * and moved in the allowed direction.\n */\n\n\nvar PanSession = /*#__PURE__*/function () {\n  /**\n   * We use this to keep track of the `x` and `y` pan session history\n   * as the pan event happens. It helps to calculate the `offset` and `delta`\n   */\n  // The pointer event that started the pan session\n  // The current pointer event for the pan session\n  // The current pointer event info for the pan session\n\n  /**\n   * Minimal pan distance required before recognizing the pan.\n   * @default \"3px\"\n   */\n  function PanSession(_event, handlers, threshold) {\n    var _this = this;\n\n    this.history = [];\n    this.startEvent = null;\n    this.lastEvent = null;\n    this.lastEventInfo = null;\n    this.handlers = {};\n    this.removeListeners = noop;\n    this.threshold = 3;\n    this.win = void 0;\n\n    this.updatePoint = function () {\n      if (!(_this.lastEvent && _this.lastEventInfo)) return;\n      var info = getPanInfo(_this.lastEventInfo, _this.history);\n      var isPanStarted = _this.startEvent !== null;\n\n      var isDistancePastThreshold = distance(info.offset, {\n        x: 0,\n        y: 0\n      }) >= _this.threshold;\n\n      if (!isPanStarted && !isDistancePastThreshold) return;\n\n      var _getFrameData = getFrameData(),\n          timestamp = _getFrameData.timestamp;\n\n      _this.history.push(_extends({}, info.point, {\n        timestamp: timestamp\n      }));\n\n      var _this$handlers = _this.handlers,\n          onStart = _this$handlers.onStart,\n          onMove = _this$handlers.onMove;\n\n      if (!isPanStarted) {\n        onStart == null ? void 0 : onStart(_this.lastEvent, info);\n        _this.startEvent = _this.lastEvent;\n      }\n\n      onMove == null ? void 0 : onMove(_this.lastEvent, info);\n    };\n\n    this.onPointerMove = function (event, info) {\n      _this.lastEvent = event;\n      _this.lastEventInfo = info; // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n\n      if (isMouseEvent(event) && event.buttons === 0) {\n        _this.onPointerUp(event, info);\n\n        return;\n      } // Throttle mouse move event to once per frame\n\n\n      sync.update(_this.updatePoint, true);\n    };\n\n    this.onPointerUp = function (event, info) {\n      // notify pan session ended\n      var panInfo = getPanInfo(info, _this.history);\n      var _this$handlers2 = _this.handlers,\n          onEnd = _this$handlers2.onEnd,\n          onSessionEnd = _this$handlers2.onSessionEnd;\n      onSessionEnd == null ? void 0 : onSessionEnd(event, panInfo);\n\n      _this.end(); // if panning never started, no need to call `onEnd`\n      // panning requires a pointermove of at least 3px\n\n\n      if (!onEnd || !_this.startEvent) return;\n      onEnd == null ? void 0 : onEnd(event, panInfo);\n    };\n\n    this.win = getEventWindow(_event); // If we have more than one touch, don't start detecting this gesture\n\n    if (isMultiTouchEvent(_event)) return;\n    this.handlers = handlers;\n\n    if (threshold) {\n      this.threshold = threshold;\n    } // stop default browser behavior\n\n\n    _event.stopPropagation();\n\n    _event.preventDefault(); // get and save the `pointerdown` event info in history\n    // we'll use it to compute the `offset`\n\n\n    var _info = extractEventInfo(_event);\n\n    var _getFrameData2 = getFrameData(),\n        _timestamp = _getFrameData2.timestamp;\n\n    this.history = [_extends({}, _info.point, {\n      timestamp: _timestamp\n    })]; // notify pan session start\n\n    var onSessionStart = handlers.onSessionStart;\n    onSessionStart == null ? void 0 : onSessionStart(_event, getPanInfo(_info, this.history)); // attach event listeners and return a single function to remove them all\n\n    this.removeListeners = pipe(addPointerEvent(this.win, \"pointermove\", this.onPointerMove), addPointerEvent(this.win, \"pointerup\", this.onPointerUp), addPointerEvent(this.win, \"pointercancel\", this.onPointerUp));\n  }\n\n  var _proto = PanSession.prototype;\n\n  _proto.updateHandlers = function updateHandlers(handlers) {\n    this.handlers = handlers;\n  };\n\n  _proto.end = function end() {\n    var _this$removeListeners;\n\n    (_this$removeListeners = this.removeListeners) == null ? void 0 : _this$removeListeners.call(this);\n    cancelSync.update(this.updatePoint);\n  };\n\n  return PanSession;\n}();\n\nfunction subtractPoint(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n\nfunction startPanPoint(history) {\n  return history[0];\n}\n\nfunction lastPanPoint(history) {\n  return history[history.length - 1];\n}\n\nfunction getPanInfo(info, history) {\n  return {\n    point: info.point,\n    delta: subtractPoint(info.point, lastPanPoint(history)),\n    offset: subtractPoint(info.point, startPanPoint(history)),\n    velocity: getVelocity(history, 0.1)\n  };\n}\n\nfunction lastDevicePoint(history) {\n  return history[history.length - 1];\n}\n\nvar toMilliseconds = function toMilliseconds(seconds) {\n  return seconds * 1000;\n};\n\nfunction getVelocity(history, timeDelta) {\n  if (history.length < 2) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var i = history.length - 1;\n  var timestampedPoint = null;\n  var lastPoint = lastDevicePoint(history);\n\n  while (i >= 0) {\n    timestampedPoint = history[i];\n\n    if (lastPoint.timestamp - timestampedPoint.timestamp > toMilliseconds(timeDelta)) {\n      break;\n    }\n\n    i--;\n  }\n\n  if (!timestampedPoint) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n\n  if (time === 0) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time\n  };\n\n  if (currentVelocity.x === Infinity) {\n    currentVelocity.x = 0;\n  }\n\n  if (currentVelocity.y === Infinity) {\n    currentVelocity.y = 0;\n  }\n\n  return currentVelocity;\n}\n\nvar breakpoints = Object.freeze([\"base\", \"sm\", \"md\", \"lg\", \"xl\", \"2xl\"]);\n\nfunction mapResponsive(prop, mapper) {\n  if (isArray(prop)) {\n    return prop.map(function (item) {\n      if (item === null) {\n        return null;\n      }\n\n      return mapper(item);\n    });\n  }\n\n  if (isObject(prop)) {\n    return objectKeys(prop).reduce(function (result, key) {\n      result[key] = mapper(prop[key]);\n      return result;\n    }, {});\n  }\n\n  if (prop != null) {\n    return mapper(prop);\n  }\n\n  return null;\n}\n\nfunction objectToArrayNotation(obj, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var result = bps.map(function (br) {\n    var _obj$br;\n\n    return (_obj$br = obj[br]) != null ? _obj$br : null;\n  });\n\n  while (getLastItem(result) === null) {\n    result.pop();\n  }\n\n  return result;\n}\n\nfunction arrayToObjectNotation(values, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var result = {};\n  values.forEach(function (value, index) {\n    var key = bps[index];\n    if (value == null) return;\n    result[key] = value;\n  });\n  return result;\n}\n\nfunction isResponsiveObjectLike(obj, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var keys = Object.keys(obj);\n  return keys.length > 0 && keys.every(function (key) {\n    return bps.includes(key);\n  });\n}\n/**\n * since breakpoints are defined as custom properties on an array, you may\n * `Object.keys(theme.breakpoints)` to retrieve both regular numeric indices\n * and custom breakpoints as string.\n *\n * This function returns true given a custom array property.\n */\n\n\nvar isCustomBreakpoint = function isCustomBreakpoint(maybeBreakpoint) {\n  return Number.isNaN(Number(maybeBreakpoint));\n};\n\nfunction getUserAgentBrowser(navigator) {\n  var ua = navigator.userAgent,\n      vendor = navigator.vendor;\n  var android = /(android)/i.test(ua);\n\n  switch (true) {\n    case /CriOS/.test(ua):\n      return \"Chrome for iOS\";\n\n    case /Edg\\//.test(ua):\n      return \"Edge\";\n\n    case android && /Silk\\//.test(ua):\n      return \"Silk\";\n\n    case /Chrome/.test(ua) && /Google Inc/.test(vendor):\n      return \"Chrome\";\n\n    case /Firefox\\/\\d+\\.\\d+$/.test(ua):\n      return \"Firefox\";\n\n    case android:\n      return \"AOSP\";\n\n    case /MSIE|Trident/.test(ua):\n      return \"IE\";\n\n    case /Safari/.test(navigator.userAgent) && /Apple Computer/.test(ua):\n      return \"Safari\";\n\n    case /AppleWebKit/.test(ua):\n      return \"WebKit\";\n\n    default:\n      return null;\n  }\n}\n\nfunction getUserAgentOS(navigator) {\n  var ua = navigator.userAgent,\n      platform = navigator.platform;\n\n  switch (true) {\n    case /Android/.test(ua):\n      return \"Android\";\n\n    case /iPhone|iPad|iPod/.test(platform):\n      return \"iOS\";\n\n    case /Win/.test(platform):\n      return \"Windows\";\n\n    case /Mac/.test(platform):\n      return \"Mac\";\n\n    case /CrOS/.test(ua):\n      return \"Chrome OS\";\n\n    case /Firefox/.test(ua):\n      return \"Firefox OS\";\n\n    default:\n      return null;\n  }\n}\n\nfunction detectDeviceType(navigator) {\n  var ua = navigator.userAgent;\n  if (/(tablet)|(iPad)|(Nexus 9)/i.test(ua)) return \"tablet\";\n  if (/(mobi)/i.test(ua)) return \"phone\";\n  return \"desktop\";\n}\n\nfunction detectOS(os) {\n  if (!isBrowser) return false;\n  return getUserAgentOS(window.navigator) === os;\n}\n\nfunction detectBrowser(browser) {\n  if (!isBrowser) return false;\n  return getUserAgentBrowser(window.navigator) === browser;\n}\n\nfunction detectTouch() {\n  if (!isBrowser) return false;\n  return window.ontouchstart === null && window.ontouchmove === null && window.ontouchend === null;\n}\n\nfunction walkObject(target, predicate) {\n  function inner(value, path) {\n    if (path === void 0) {\n      path = [];\n    }\n\n    if (isArray(value)) {\n      return value.map(function (item, index) {\n        return inner(item, [].concat(path, [String(index)]));\n      });\n    }\n\n    if (isObject(value)) {\n      return fromEntries(Object.entries(value).map(function (_ref) {\n        var key = _ref[0],\n            child = _ref[1];\n        return [key, inner(child, [].concat(path, [key]))];\n      }));\n    }\n\n    return predicate(value, path);\n  }\n\n  return inner(target);\n}\n\nexport { PanSession, __DEV__, __TEST__, addDomEvent, addItem, addPointerEvent, analyzeBreakpoints, ariaAttr, arrayToObjectNotation, breakpoints, callAll, callAllHandlers, canUseDOM, chunk, clampValue, closest, compose, contains, countDecimalPlaces, cx, dataAttr, detectBrowser, detectDeviceType, detectOS, detectTouch, determineLazyBehavior, distance, error, extractEventInfo, filterUndefined, focus, focusNextTabbable, focusPreviousTabbable, fromEntries, get, getActiveElement, getAllFocusable, getAllTabbable, getCSSVar, getEventWindow, getFirstFocusable, getFirstItem, getFirstTabbableIn, getLastItem, getLastTabbableIn, getNextIndex, getNextItem, getNextItemFromSearch, getNextTabbable, getOwnerDocument, getOwnerWindow, getPointerEventName, getPrevIndex, getPrevItem, getPreviousTabbable, getRelatedTarget, getViewportPointFromEvent, getWithDefault, hasDisplayNone, hasFocusWithin, hasNegativeTabIndex, hasTabIndex, isActiveElement, isArray, isBrowser, isContentEditable, isCssVar, isCustomBreakpoint, isDefined, isDisabled, isElement, isEmpty, isEmptyArray, isEmptyObject, isFocusable, isFunction, isHTMLElement, isHidden, isInputElement, isInputEvent, isMouseEvent, isMultiTouchEvent, isNotEmptyObject, isNotNumber, isNull, isNumber, isNumeric, isObject, isRefObject, isResponsiveObjectLike, isRightClick, isString, isTabbable, isTouchEvent, isUndefined, mapResponsive, maxSafeInteger, memoize, memoizedGet, minSafeInteger, noop, normalizeEventKey, objectFilter, objectKeys, objectToArrayNotation, omit, once, percentToValue, pick, pipe, px, removeIndex, removeItem, roundValueToStep, runIfFn, split, toPrecision, valueToPercent, walkObject, warn, wrapPointerEventHandler };","map":{"version":3,"sources":["/Users/kendrawing/Documents/Coding Projects:Practice/1 Repos:Deployed/React-Ecommerce-Site/node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js"],"names":["default","mergeWith","sync","cancelSync","getFrameData","getFirstItem","array","length","undefined","getLastItem","getPrevItem","index","loop","prevIndex","getPrevIndex","getNextItem","nextIndex","getNextIndex","removeIndex","filter","_","idx","addItem","item","concat","removeItem","eachItem","currentIndex","step","lastIndex","count","chunk","size","reduce","rows","currentValue","push","getNextItemFromSearch","items","searchString","itemToString","currentItem","foundItem","find","toLowerCase","startsWith","matchingItems","includes","indexOf","isNumber","value","isNotNumber","Number","isNaN","isFinite","isNumeric","parseFloat","isArray","Array","isEmptyArray","isFunction","isDefined","isUndefined","isObject","type","isEmptyObject","Object","keys","isNotEmptyObject","isNull","isString","prototype","toString","call","isCssVar","test","isEmpty","__DEV__","process","env","NODE_ENV","__TEST__","isRefObject","val","isInputEvent","target","omit","object","result","forEach","key","pick","split","picked","omitted","get","obj","path","fallback","memoize","fn","cache","WeakMap","memoizedFn","has","set","Map","map","memoizedGet","getWithDefault","scale","objectFilter","shouldPass","filterUndefined","objectKeys","fromEntries","entries","carry","_ref","getCSSVar","theme","_theme$__cssMap$$varR","_theme$__cssMap$","__cssMap","varRef","analyzeCSSValue","num","unit","replace","String","unitless","px","_analyzeCSSValue","sortByBreakpointValue","a","b","parseInt","sortBps","breakpoints","sort","normalize","sorted","assign","values","Set","subtract","_px","factor","endsWith","m","queryString","min","max","query","join","analyzeBreakpoints","_breakpoints$base","base","normalized","queries","entry","_entry","breakpoint","minW","_ref2","maxW","maxWQuery","minWQuery","minMaxQuery","_keys","_keysArr","from","isResponsive","every","asObject","asArray","details","media","slice","toArrayValue","Error","bp","_test$bp","pop","toObjectValue","acc","isElement","el","nodeType","Node","ELEMENT_NODE","isHTMLElement","_el$ownerDocument$def","win","ownerDocument","defaultView","window","HTMLElement","getOwnerWindow","node","_getOwnerDocument$def","_getOwnerDocument","getOwnerDocument","_node$ownerDocument","document","getEventWindow","event","_view","view","canUseDOM","createElement","isBrowser","dataAttr","condition","ariaAttr","cx","_len","arguments","classNames","_key","Boolean","getActiveElement","doc","activeElement","contains","parent","child","addDomEvent","eventName","handler","options","addEventListener","removeEventListener","normalizeEventKey","keyCode","isArrowKey","eventKey","getRelatedTarget","_event$target","_event$relatedTarget","currentTarget","relatedTarget","isRightClick","button","hasDisplayNone","element","getComputedStyle","display","hasTabIndex","hasAttribute","hasNegativeTabIndex","tabIndex","isDisabled","getAttribute","isInputElement","tagName","isActiveElement","hasFocusWithin","isHidden","parentElement","hidden","isContentEditable","isFocusable","localName","focusableTags","others","audio","video","isTabbable","focusableElList","focusableElSelector","getAllFocusable","container","focusableEls","querySelectorAll","unshift","getFirstFocusable","allFocusable","getAllTabbable","fallbackToFocusable","allTabbable","getFirstTabbableIn","_getAllTabbable","first","getLastTabbableIn","getNextTabbable","getPreviousTabbable","reverse","focusNextTabbable","nextTabbable","focus","focusPreviousTabbable","previousTabbable","matches","selectors","msMatchesSelector","webkitMatchesSelector","closest","parentNode","_arrayLikeToArray","arr","len","i","arr2","_unsupportedIterableToArray","o","minLen","n","constructor","name","_createForOfIteratorHelperLoose","allowArrayLike","it","Symbol","iterator","next","bind","done","TypeError","runIfFn","valueOrFn","args","apply","callAllHandlers","_len2","fns","_key2","func","some","defaultPrevented","callAll","_len3","_key3","mergedFn","arg","compose","fn1","_len4","_key4","f1","f2","once","_len5","_key5","noop","warn","message","console","error","pipe","_len6","_key6","v","distance1D","Math","abs","isPoint","point","distance","xDelta","x","yDelta","y","sqrt","pow","_options","_options$isActive","isActive","nextTick","_options$preventScrol","preventScroll","_options$selectTextIf","selectTextIfInput","triggerFocus","supportsPreventScroll","scrollableElements","getScrollableElements","restoreScrollPosition","select","requestAnimationFrame","supportsPreventScrollCached","div","e","_doc$defaultView","rootScrollingElement","scrollingElement","documentElement","offsetHeight","scrollHeight","offsetWidth","scrollWidth","scrollTop","scrollLeft","_iterator","_step","_step$value","determineLazyBehavior","hasBeenSelected","isLazy","isSelected","_options$lazyBehavior","lazyBehavior","minSafeInteger","MIN_SAFE_INTEGER","maxSafeInteger","MAX_SAFE_INTEGER","toNumber","toPrecision","precision","nextValue","scaleFactor","round","toFixed","countDecimalPlaces","p","valueToPercent","percentToValue","percent","roundValueToStep","clampValue","_extends","source","hasOwnProperty","isMouseEvent","PointerEvent","pointerType","MouseEvent","isTouchEvent","hasTouches","touches","filterPrimaryPointer","eventHandler","isPrimaryPointer","defaultPagePoint","pageX","pageY","pointFromTouch","pointType","primaryTouch","changedTouches","pointFromMouse","extractEventInfo","getViewportPointFromEvent","wrapPointerEventHandler","shouldFilterPrimaryPointer","listener","supportsPointerEvents","onpointerdown","supportsTouchEvents","ontouchstart","supportsMouseEvents","onmousedown","mouseEventNames","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave","touchEventNames","getPointerEventName","addPointerEvent","isMultiTouchEvent","PanSession","_event","handlers","threshold","_this","history","startEvent","lastEvent","lastEventInfo","removeListeners","updatePoint","info","getPanInfo","isPanStarted","isDistancePastThreshold","offset","_getFrameData","timestamp","_this$handlers","onStart","onMove","onPointerMove","buttons","onPointerUp","update","panInfo","_this$handlers2","onEnd","onSessionEnd","end","stopPropagation","preventDefault","_info","_getFrameData2","_timestamp","onSessionStart","_proto","updateHandlers","_this$removeListeners","subtractPoint","startPanPoint","lastPanPoint","delta","velocity","getVelocity","lastDevicePoint","toMilliseconds","seconds","timeDelta","timestampedPoint","lastPoint","time","currentVelocity","Infinity","freeze","mapResponsive","prop","mapper","objectToArrayNotation","bps","br","_obj$br","arrayToObjectNotation","isResponsiveObjectLike","isCustomBreakpoint","maybeBreakpoint","getUserAgentBrowser","navigator","ua","userAgent","vendor","android","getUserAgentOS","platform","detectDeviceType","detectOS","os","detectBrowser","browser","detectTouch","ontouchmove","ontouchend","walkObject","predicate","inner"],"mappings":"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","sourcesContent":["export * from 'css-box-model';\nexport { default as mergeWith } from 'lodash.mergewith';\nimport sync, { cancelSync, getFrameData } from 'framesync';\n\nfunction getFirstItem(array) {\n  return array != null && array.length ? array[0] : undefined;\n}\nfunction getLastItem(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\nfunction getPrevItem(index, array, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var prevIndex = getPrevIndex(index, array.length, loop);\n  return array[prevIndex];\n}\nfunction getNextItem(index, array, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var nextIndex = getNextIndex(index, array.length, 1, loop);\n  return array[nextIndex];\n}\nfunction removeIndex(array, index) {\n  return array.filter(function (_, idx) {\n    return idx !== index;\n  });\n}\nfunction addItem(array, item) {\n  return [].concat(array, [item]);\n}\nfunction removeItem(array, item) {\n  return array.filter(function (eachItem) {\n    return eachItem !== item;\n  });\n}\n/**\n * Get the next index based on the current index and step.\n *\n * @param currentIndex the current index\n * @param length the total length or count of items\n * @param step the number of steps\n * @param loop whether to circle back once `currentIndex` is at the start/end\n */\n\nfunction getNextIndex(currentIndex, length, step, loop) {\n  if (step === void 0) {\n    step = 1;\n  }\n\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  var lastIndex = length - 1;\n\n  if (currentIndex === -1) {\n    return step > 0 ? 0 : lastIndex;\n  }\n\n  var nextIndex = currentIndex + step;\n\n  if (nextIndex < 0) {\n    return loop ? lastIndex : 0;\n  }\n\n  if (nextIndex >= length) {\n    if (loop) return 0;\n    return currentIndex > length ? length : currentIndex;\n  }\n\n  return nextIndex;\n}\n/**\n * Get's the previous index based on the current index.\n * Mostly used for keyboard navigation.\n *\n * @param index - the current index\n * @param count - the length or total count of items in the array\n * @param loop - whether we should circle back to the\n * first/last once `currentIndex` is at the start/end\n */\n\nfunction getPrevIndex(index, count, loop) {\n  if (loop === void 0) {\n    loop = true;\n  }\n\n  return getNextIndex(index, count, -1, loop);\n}\n/**\n * Converts an array into smaller chunks or groups.\n *\n * @param array the array to chunk into group\n * @param size the length of each chunk\n */\n\nfunction chunk(array, size) {\n  return array.reduce(function (rows, currentValue, index) {\n    if (index % size === 0) {\n      rows.push([currentValue]);\n    } else {\n      rows[rows.length - 1].push(currentValue);\n    }\n\n    return rows;\n  }, []);\n}\n/**\n * Gets the next item based on a search string\n *\n * @param items array of items\n * @param searchString the search string\n * @param itemToString resolves an item to string\n * @param currentItem the current selected item\n */\n\nfunction getNextItemFromSearch(items, searchString, itemToString, currentItem) {\n  if (searchString == null) {\n    return currentItem;\n  } // If current item doesn't exist, find the item that matches the search string\n\n\n  if (!currentItem) {\n    var foundItem = items.find(function (item) {\n      return itemToString(item).toLowerCase().startsWith(searchString.toLowerCase());\n    });\n    return foundItem;\n  } // Filter items for ones that match the search string (case insensitive)\n\n\n  var matchingItems = items.filter(function (item) {\n    return itemToString(item).toLowerCase().startsWith(searchString.toLowerCase());\n  }); // If there's a match, let's get the next item to select\n\n  if (matchingItems.length > 0) {\n    var nextIndex; // If the currentItem is in the available items, we move to the next available option\n\n    if (matchingItems.includes(currentItem)) {\n      var currentIndex = matchingItems.indexOf(currentItem);\n      nextIndex = currentIndex + 1;\n\n      if (nextIndex === matchingItems.length) {\n        nextIndex = 0;\n      }\n\n      return matchingItems[nextIndex];\n    } // Else, we pick the first item in the available items\n\n\n    nextIndex = items.indexOf(matchingItems[0]);\n    return items[nextIndex];\n  } // a decent fallback to the currentItem\n\n\n  return currentItem;\n}\n\n// Number assertions\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isNotNumber(value) {\n  return typeof value !== \"number\" || Number.isNaN(value) || !Number.isFinite(value);\n}\nfunction isNumeric(value) {\n  return value != null && value - parseFloat(value) + 1 >= 0;\n} // Array assertions\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction isEmptyArray(value) {\n  return isArray(value) && value.length === 0;\n} // Function assertions\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n} // Generic assertions\n\nfunction isDefined(value) {\n  return typeof value !== \"undefined\" && value !== undefined;\n}\nfunction isUndefined(value) {\n  return typeof value === \"undefined\" || value === undefined;\n} // Object assertions\n\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type === \"object\" || type === \"function\") && !isArray(value);\n}\nfunction isEmptyObject(value) {\n  return isObject(value) && Object.keys(value).length === 0;\n}\nfunction isNotEmptyObject(value) {\n  return value && !isEmptyObject(value);\n}\nfunction isNull(value) {\n  return value == null;\n} // String assertions\n\nfunction isString(value) {\n  return Object.prototype.toString.call(value) === \"[object String]\";\n}\nfunction isCssVar(value) {\n  return /^var\\(--.+\\)$/.test(value);\n} // Empty assertions\n\nfunction isEmpty(value) {\n  if (isArray(value)) return isEmptyArray(value);\n  if (isObject(value)) return isEmptyObject(value);\n  if (value == null || value === \"\") return true;\n  return false;\n}\nvar __DEV__ = process.env.NODE_ENV !== \"production\";\nvar __TEST__ = process.env.NODE_ENV === \"test\";\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\nfunction isInputEvent(value) {\n  return value && isObject(value) && isObject(value.target);\n}\n\nfunction omit(object, keys) {\n  var result = {};\n  Object.keys(object).forEach(function (key) {\n    if (keys.includes(key)) return;\n    result[key] = object[key];\n  });\n  return result;\n}\nfunction pick(object, keys) {\n  var result = {};\n  keys.forEach(function (key) {\n    if (key in object) {\n      result[key] = object[key];\n    }\n  });\n  return result;\n}\nfunction split(object, keys) {\n  var picked = {};\n  var omitted = {};\n  Object.keys(object).forEach(function (key) {\n    if (keys.includes(key)) {\n      picked[key] = object[key];\n    } else {\n      omitted[key] = object[key];\n    }\n  });\n  return [picked, omitted];\n}\n/**\n * Get value from a deeply nested object using a string path.\n * Memoizes the value.\n * @param obj - the object\n * @param path - the string path\n * @param def  - the fallback value\n */\n\nfunction get(obj, path, fallback, index) {\n  var key = typeof path === \"string\" ? path.split(\".\") : [path];\n\n  for (index = 0; index < key.length; index += 1) {\n    if (!obj) break;\n    obj = obj[key[index]];\n  }\n\n  return obj === undefined ? fallback : obj;\n}\nvar memoize = function memoize(fn) {\n  var cache = new WeakMap();\n\n  var memoizedFn = function memoizedFn(obj, path, fallback, index) {\n    if (typeof obj === \"undefined\") {\n      return fn(obj, path, fallback);\n    }\n\n    if (!cache.has(obj)) {\n      cache.set(obj, new Map());\n    }\n\n    var map = cache.get(obj);\n\n    if (map.has(path)) {\n      return map.get(path);\n    }\n\n    var value = fn(obj, path, fallback, index);\n    map.set(path, value);\n    return value;\n  };\n\n  return memoizedFn;\n};\nvar memoizedGet = memoize(get);\n/**\n * Get value from deeply nested object, based on path\n * It returns the path value if not found in object\n *\n * @param path - the string path or value\n * @param scale - the string path or value\n */\n\nfunction getWithDefault(path, scale) {\n  return memoizedGet(scale, path, path);\n}\n\n/**\n * Returns the items of an object that meet the condition specified in a callback function.\n *\n * @param object the object to loop through\n * @param fn The filter function\n */\nfunction objectFilter(object, fn) {\n  var result = {};\n  Object.keys(object).forEach(function (key) {\n    var value = object[key];\n    var shouldPass = fn(value, key, object);\n\n    if (shouldPass) {\n      result[key] = value;\n    }\n  });\n  return result;\n}\nvar filterUndefined = function filterUndefined(object) {\n  return objectFilter(object, function (val) {\n    return val !== null && val !== undefined;\n  });\n};\nvar objectKeys = function objectKeys(obj) {\n  return Object.keys(obj);\n};\n/**\n * Object.entries polyfill for Nodev10 compatibility\n */\n\nvar fromEntries = function fromEntries(entries) {\n  return entries.reduce(function (carry, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    carry[key] = value;\n    return carry;\n  }, {});\n};\n/**\n * Get the CSS variable ref stored in the theme\n */\n\nvar getCSSVar = function getCSSVar(theme, scale, value) {\n  var _theme$__cssMap$$varR, _theme$__cssMap$;\n\n  return (_theme$__cssMap$$varR = (_theme$__cssMap$ = theme.__cssMap[scale + \".\" + value]) == null ? void 0 : _theme$__cssMap$.varRef) != null ? _theme$__cssMap$$varR : value;\n};\n\nfunction analyzeCSSValue(value) {\n  var num = parseFloat(value.toString());\n  var unit = value.toString().replace(String(num), \"\");\n  return {\n    unitless: !unit,\n    value: num,\n    unit: unit\n  };\n}\n\nfunction px(value) {\n  if (value == null) return value;\n\n  var _analyzeCSSValue = analyzeCSSValue(value),\n      unitless = _analyzeCSSValue.unitless;\n\n  return unitless || isNumber(value) ? value + \"px\" : value;\n}\n\nvar sortByBreakpointValue = function sortByBreakpointValue(a, b) {\n  return parseInt(a[1], 10) > parseInt(b[1], 10) ? 1 : -1;\n};\n\nvar sortBps = function sortBps(breakpoints) {\n  return fromEntries(Object.entries(breakpoints).sort(sortByBreakpointValue));\n};\n\nfunction normalize(breakpoints) {\n  var sorted = sortBps(breakpoints);\n  return Object.assign(Object.values(sorted), sorted);\n}\n\nfunction keys(breakpoints) {\n  var value = Object.keys(sortBps(breakpoints));\n  return new Set(value);\n}\n\nfunction subtract(value) {\n  var _px;\n\n  if (!value) return value;\n  value = (_px = px(value)) != null ? _px : value;\n  var factor = value.endsWith(\"px\") ? -1 : // the equivalent of 1px in em using a 16px base\n  -0.0635;\n  return isNumber(value) ? \"\" + (value + factor) : value.replace(/([0-9]+\\.?[0-9]*)/, function (m) {\n    return \"\" + (parseFloat(m) + factor);\n  });\n}\n\nfunction queryString(min, max) {\n  var query = [];\n  if (min) query.push(\"@media screen and (min-width: \" + px(min) + \")\");\n  if (query.length > 0 && max) query.push(\"and\");\n  if (max) query.push(\"@media screen and (max-width: \" + px(max) + \")\");\n  return query.join(\" \");\n}\n\nfunction analyzeBreakpoints(breakpoints) {\n  var _breakpoints$base;\n\n  if (!breakpoints) return null;\n  breakpoints.base = (_breakpoints$base = breakpoints.base) != null ? _breakpoints$base : \"0px\";\n  var normalized = normalize(breakpoints);\n  var queries = Object.entries(breakpoints).sort(sortByBreakpointValue).map(function (_ref, index, entry) {\n    var _entry;\n\n    var breakpoint = _ref[0],\n        minW = _ref[1];\n\n    var _ref2 = (_entry = entry[index + 1]) != null ? _entry : [],\n        maxW = _ref2[1];\n\n    maxW = parseFloat(maxW) > 0 ? subtract(maxW) : undefined;\n    return {\n      breakpoint: breakpoint,\n      minW: minW,\n      maxW: maxW,\n      maxWQuery: queryString(null, maxW),\n      minWQuery: queryString(minW),\n      minMaxQuery: queryString(minW, maxW)\n    };\n  });\n\n  var _keys = keys(breakpoints);\n\n  var _keysArr = Array.from(_keys.values());\n\n  return {\n    keys: _keys,\n    normalized: normalized,\n    isResponsive: function isResponsive(test) {\n      var keys = Object.keys(test);\n      return keys.length > 0 && keys.every(function (key) {\n        return _keys.has(key);\n      });\n    },\n    asObject: sortBps(breakpoints),\n    asArray: normalize(breakpoints),\n    details: queries,\n    media: [null].concat(normalized.map(function (minW) {\n      return queryString(minW);\n    }).slice(1)),\n    toArrayValue: function toArrayValue(test) {\n      if (!isObject(test)) {\n        throw new Error(\"toArrayValue: value must be an object\");\n      }\n\n      var result = _keysArr.map(function (bp) {\n        var _test$bp;\n\n        return (_test$bp = test[bp]) != null ? _test$bp : null;\n      });\n\n      while (getLastItem(result) === null) {\n        result.pop();\n      }\n\n      return result;\n    },\n    toObjectValue: function toObjectValue(test) {\n      if (!Array.isArray(test)) {\n        throw new Error(\"toObjectValue: value must be an array\");\n      }\n\n      return test.reduce(function (acc, value, index) {\n        var key = _keysArr[index];\n        if (key != null && value != null) acc[key] = value;\n        return acc;\n      }, {});\n    }\n  };\n}\n\nfunction isElement(el) {\n  return el != null && typeof el == \"object\" && \"nodeType\" in el && el.nodeType === Node.ELEMENT_NODE;\n}\nfunction isHTMLElement(el) {\n  var _el$ownerDocument$def;\n\n  if (!isElement(el)) {\n    return false;\n  }\n\n  var win = (_el$ownerDocument$def = el.ownerDocument.defaultView) != null ? _el$ownerDocument$def : window;\n  return el instanceof win.HTMLElement;\n}\nfunction getOwnerWindow(node) {\n  var _getOwnerDocument$def, _getOwnerDocument;\n\n  return isElement(node) ? (_getOwnerDocument$def = (_getOwnerDocument = getOwnerDocument(node)) == null ? void 0 : _getOwnerDocument.defaultView) != null ? _getOwnerDocument$def : window : window;\n}\nfunction getOwnerDocument(node) {\n  var _node$ownerDocument;\n\n  return isElement(node) ? (_node$ownerDocument = node.ownerDocument) != null ? _node$ownerDocument : document : document;\n}\nfunction getEventWindow(event) {\n  var _view;\n\n  return (_view = event.view) != null ? _view : window;\n}\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\nvar isBrowser = canUseDOM();\nvar dataAttr = function dataAttr(condition) {\n  return condition ? \"\" : undefined;\n};\nvar ariaAttr = function ariaAttr(condition) {\n  return condition ? true : undefined;\n};\nvar cx = function cx() {\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n\n  return classNames.filter(Boolean).join(\" \");\n};\nfunction getActiveElement(node) {\n  var doc = getOwnerDocument(node);\n  return doc == null ? void 0 : doc.activeElement;\n}\nfunction contains(parent, child) {\n  if (!parent) return false;\n  return parent === child || parent.contains(child);\n}\nfunction addDomEvent(target, eventName, handler, options) {\n  target.addEventListener(eventName, handler, options);\n  return function () {\n    target.removeEventListener(eventName, handler, options);\n  };\n}\n/**\n * Get the normalized event key across all browsers\n * @param event keyboard event\n */\n\nfunction normalizeEventKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  var isArrowKey = keyCode >= 37 && keyCode <= 40 && key.indexOf(\"Arrow\") !== 0;\n  var eventKey = isArrowKey ? \"Arrow\" + key : key;\n  return eventKey;\n}\nfunction getRelatedTarget(event) {\n  var _event$target, _event$relatedTarget;\n\n  var target = (_event$target = event.target) != null ? _event$target : event.currentTarget;\n  var activeElement = getActiveElement(target);\n  return (_event$relatedTarget = event.relatedTarget) != null ? _event$relatedTarget : activeElement;\n}\nfunction isRightClick(event) {\n  return event.button !== 0;\n}\n\n// Really great work done by Diego Haz on this one\nvar hasDisplayNone = function hasDisplayNone(element) {\n  return window.getComputedStyle(element).display === \"none\";\n};\nvar hasTabIndex = function hasTabIndex(element) {\n  return element.hasAttribute(\"tabindex\");\n};\nvar hasNegativeTabIndex = function hasNegativeTabIndex(element) {\n  return hasTabIndex(element) && element.tabIndex === -1;\n};\nfunction isDisabled(element) {\n  return Boolean(element.getAttribute(\"disabled\")) === true || Boolean(element.getAttribute(\"aria-disabled\")) === true;\n}\nfunction isInputElement(element) {\n  return isHTMLElement(element) && element.tagName.toLowerCase() === \"input\" && \"select\" in element;\n}\nfunction isActiveElement(element) {\n  var doc = isHTMLElement(element) ? getOwnerDocument(element) : document;\n  return doc.activeElement === element;\n}\nfunction hasFocusWithin(element) {\n  if (!document.activeElement) return false;\n  return element.contains(document.activeElement);\n}\nfunction isHidden(element) {\n  if (element.parentElement && isHidden(element.parentElement)) return true;\n  return element.hidden;\n}\nfunction isContentEditable(element) {\n  var value = element.getAttribute(\"contenteditable\");\n  return value !== \"false\" && value != null;\n}\nfunction isFocusable(element) {\n  if (!isHTMLElement(element) || isHidden(element) || isDisabled(element)) {\n    return false;\n  }\n\n  var localName = element.localName;\n  var focusableTags = [\"input\", \"select\", \"textarea\", \"button\"];\n  if (focusableTags.indexOf(localName) >= 0) return true;\n  var others = {\n    a: function a() {\n      return element.hasAttribute(\"href\");\n    },\n    audio: function audio() {\n      return element.hasAttribute(\"controls\");\n    },\n    video: function video() {\n      return element.hasAttribute(\"controls\");\n    }\n  };\n\n  if (localName in others) {\n    return others[localName]();\n  }\n\n  if (isContentEditable(element)) return true;\n  return hasTabIndex(element);\n}\nfunction isTabbable(element) {\n  if (!element) return false;\n  return isHTMLElement(element) && isFocusable(element) && !hasNegativeTabIndex(element);\n}\n\nvar focusableElList = [\"input:not([disabled])\", \"select:not([disabled])\", \"textarea:not([disabled])\", \"embed\", \"iframe\", \"object\", \"a[href]\", \"area[href]\", \"button:not([disabled])\", \"[tabindex]\", \"audio[controls]\", \"video[controls]\", \"*[tabindex]:not([aria-disabled])\", \"*[contenteditable]\"];\nvar focusableElSelector = focusableElList.join();\nfunction getAllFocusable(container) {\n  var focusableEls = Array.from(container.querySelectorAll(focusableElSelector));\n  focusableEls.unshift(container);\n  return focusableEls.filter(isFocusable).filter(function (el) {\n    return window.getComputedStyle(el).display !== \"none\";\n  });\n}\nfunction getFirstFocusable(container) {\n  var allFocusable = getAllFocusable(container);\n  return allFocusable.length ? allFocusable[0] : null;\n}\nfunction getAllTabbable(container, fallbackToFocusable) {\n  var allFocusable = Array.from(container.querySelectorAll(focusableElSelector));\n  var allTabbable = allFocusable.filter(isTabbable);\n\n  if (isTabbable(container)) {\n    allTabbable.unshift(container);\n  }\n\n  if (!allTabbable.length && fallbackToFocusable) {\n    return allFocusable;\n  }\n\n  return allTabbable;\n}\nfunction getFirstTabbableIn(container, fallbackToFocusable) {\n  var _getAllTabbable = getAllTabbable(container, fallbackToFocusable),\n      first = _getAllTabbable[0];\n\n  return first || null;\n}\nfunction getLastTabbableIn(container, fallbackToFocusable) {\n  var allTabbable = getAllTabbable(container, fallbackToFocusable);\n  return allTabbable[allTabbable.length - 1] || null;\n}\nfunction getNextTabbable(container, fallbackToFocusable) {\n  var allFocusable = getAllFocusable(container);\n  var index = allFocusable.indexOf(document.activeElement);\n  var slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\nfunction getPreviousTabbable(container, fallbackToFocusable) {\n  var allFocusable = getAllFocusable(container).reverse();\n  var index = allFocusable.indexOf(document.activeElement);\n  var slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\nfunction focusNextTabbable(container, fallbackToFocusable) {\n  var nextTabbable = getNextTabbable(container, fallbackToFocusable);\n\n  if (nextTabbable && isHTMLElement(nextTabbable)) {\n    nextTabbable.focus();\n  }\n}\nfunction focusPreviousTabbable(container, fallbackToFocusable) {\n  var previousTabbable = getPreviousTabbable(container, fallbackToFocusable);\n\n  if (previousTabbable && isHTMLElement(previousTabbable)) {\n    previousTabbable.focus();\n  }\n}\n\nfunction matches(element, selectors) {\n  if (\"matches\" in element) return element.matches(selectors);\n  if (\"msMatchesSelector\" in element) return element.msMatchesSelector(selectors);\n  return element.webkitMatchesSelector(selectors);\n}\n\nfunction closest(element, selectors) {\n  if (\"closest\" in element) return element.closest(selectors);\n\n  do {\n    if (matches(element, selectors)) return element;\n    element = element.parentElement || element.parentNode;\n  } while (element !== null && element.nodeType === 1);\n\n  return null;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n/* eslint-disable no-nested-ternary */\nfunction runIfFn(valueOrFn) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return isFunction(valueOrFn) ? valueOrFn.apply(void 0, args) : valueOrFn;\n}\nfunction callAllHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function func(event) {\n    fns.some(function (fn) {\n      fn == null ? void 0 : fn(event);\n      return event == null ? void 0 : event.defaultPrevented;\n    });\n  };\n}\nfunction callAll() {\n  for (var _len3 = arguments.length, fns = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    fns[_key3] = arguments[_key3];\n  }\n\n  return function mergedFn(arg) {\n    fns.forEach(function (fn) {\n      fn == null ? void 0 : fn(arg);\n    });\n  };\n}\nvar compose = function compose(fn1) {\n  for (var _len4 = arguments.length, fns = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    fns[_key4 - 1] = arguments[_key4];\n  }\n\n  return fns.reduce(function (f1, f2) {\n    return function () {\n      return f1(f2.apply(void 0, arguments));\n    };\n  }, fn1);\n};\nfunction once(fn) {\n  var result;\n  return function func() {\n    if (fn) {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      result = fn.apply(this, args);\n      fn = null;\n    }\n\n    return result;\n  };\n}\nvar noop = function noop() {};\nvar warn = once(function (options) {\n  return function () {\n    var condition = options.condition,\n        message = options.message;\n\n    if (condition && __DEV__) {\n      console.warn(message);\n    }\n  };\n});\nvar error = once(function (options) {\n  return function () {\n    var condition = options.condition,\n        message = options.message;\n\n    if (condition && __DEV__) {\n      console.error(message);\n    }\n  };\n});\nvar pipe = function pipe() {\n  for (var _len6 = arguments.length, fns = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    fns[_key6] = arguments[_key6];\n  }\n\n  return function (v) {\n    return fns.reduce(function (a, b) {\n      return b(a);\n    }, v);\n  };\n};\n\nvar distance1D = function distance1D(a, b) {\n  return Math.abs(a - b);\n};\n\nvar isPoint = function isPoint(point) {\n  return \"x\" in point && \"y\" in point;\n};\n\nfunction distance(a, b) {\n  if (isNumber(a) && isNumber(b)) {\n    return distance1D(a, b);\n  }\n\n  if (isPoint(a) && isPoint(b)) {\n    var xDelta = distance1D(a.x, b.x);\n    var yDelta = distance1D(a.y, b.y);\n    return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2));\n  }\n\n  return 0;\n}\n\nfunction focus(element, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$isActive = _options.isActive,\n      isActive = _options$isActive === void 0 ? isActiveElement : _options$isActive,\n      nextTick = _options.nextTick,\n      _options$preventScrol = _options.preventScroll,\n      preventScroll = _options$preventScrol === void 0 ? true : _options$preventScrol,\n      _options$selectTextIf = _options.selectTextIfInput,\n      selectTextIfInput = _options$selectTextIf === void 0 ? true : _options$selectTextIf;\n  if (!element || isActive(element)) return -1;\n\n  function triggerFocus() {\n    if (!element) {\n      warn({\n        condition: true,\n        message: \"[chakra-ui]: can't call focus() on `null` or `undefined` element\"\n      });\n      return;\n    }\n\n    if (supportsPreventScroll()) {\n      element.focus({\n        preventScroll: preventScroll\n      });\n    } else {\n      element.focus();\n\n      if (preventScroll) {\n        var scrollableElements = getScrollableElements(element);\n        restoreScrollPosition(scrollableElements);\n      }\n    }\n\n    if (isInputElement(element) && selectTextIfInput) {\n      element.select();\n    }\n  }\n\n  if (nextTick) {\n    return requestAnimationFrame(triggerFocus);\n  }\n\n  triggerFocus();\n  return -1;\n}\nvar supportsPreventScrollCached = null;\n\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n\n    try {\n      var div = document.createElement(\"div\");\n      div.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n\n      });\n    } catch (e) {// Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element) {\n  var _doc$defaultView;\n\n  var doc = getOwnerDocument(element);\n  var win = (_doc$defaultView = doc.defaultView) != null ? _doc$defaultView : window;\n  var parent = element.parentNode;\n  var scrollableElements = [];\n  var rootScrollingElement = doc.scrollingElement || doc.documentElement;\n\n  while (parent instanceof win.HTMLElement && parent !== rootScrollingElement) {\n    if (parent.offsetHeight < parent.scrollHeight || parent.offsetWidth < parent.scrollWidth) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof win.HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements) {\n  for (var _iterator = _createForOfIteratorHelperLoose(scrollableElements), _step; !(_step = _iterator()).done;) {\n    var _step$value = _step.value,\n        element = _step$value.element,\n        scrollTop = _step$value.scrollTop,\n        scrollLeft = _step$value.scrollLeft;\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n\n/**\n * Determines whether the children of a disclosure widget\n * should be rendered or not, depending on the lazy behavior.\n *\n * Used in accordion, tabs, popover, menu and other disclosure\n * widgets.\n */\nfunction determineLazyBehavior(options) {\n  var hasBeenSelected = options.hasBeenSelected,\n      isLazy = options.isLazy,\n      isSelected = options.isSelected,\n      _options$lazyBehavior = options.lazyBehavior,\n      lazyBehavior = _options$lazyBehavior === void 0 ? \"unmount\" : _options$lazyBehavior; // if not lazy, always render the disclosure's content\n\n  if (!isLazy) return true; // if the diclosure is selected, render the disclosure's content\n\n  if (isSelected) return true; // if the disclosure was selected but not active, keep its content active\n\n  if (lazyBehavior === \"keepMounted\" && hasBeenSelected) return true;\n  return false;\n}\n\nvar minSafeInteger = Number.MIN_SAFE_INTEGER || -9007199254740991;\nvar maxSafeInteger = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\nfunction toNumber(value) {\n  var num = parseFloat(value);\n  return isNotNumber(num) ? 0 : num;\n}\n/**\n * Converts a value to a specific precision (or decimal points).\n *\n * Returns a string representing a number in fixed-point notation.\n *\n * @param value the value to convert\n * @param precision the precision or decimal points\n */\n\n\nfunction toPrecision(value, precision) {\n  var nextValue = toNumber(value);\n  var scaleFactor = Math.pow(10, precision != null ? precision : 10);\n  nextValue = Math.round(nextValue * scaleFactor) / scaleFactor;\n  return precision ? nextValue.toFixed(precision) : nextValue.toString();\n}\n/**\n * Counts the number of decimal places a number has\n *\n * @param value the decimal value to count\n */\n\nfunction countDecimalPlaces(value) {\n  if (!Number.isFinite(value)) return 0;\n  var e = 1;\n  var p = 0;\n\n  while (Math.round(value * e) / e !== value) {\n    e *= 10;\n    p += 1;\n  }\n\n  return p;\n}\n/**\n * Convert a value to percentage based on lower and upper bound values\n *\n * @param value the value in number\n * @param min the minimum value\n * @param max the maximum value\n */\n\nfunction valueToPercent(value, min, max) {\n  return (value - min) * 100 / (max - min);\n}\n/**\n * Calculate the value based on percentage, lower and upper bound values\n *\n * @param percent the percent value in decimals (e.g 0.6, 0.3)\n * @param min the minimum value\n * @param max the maximum value\n */\n\nfunction percentToValue(percent, min, max) {\n  return (max - min) * percent + min;\n}\n/**\n * Rounds a specific value to the next or previous step\n *\n * @param value the value to round\n * @param from the number that stepping started from\n * @param step the specified step\n */\n\nfunction roundValueToStep(value, from, step) {\n  var nextValue = Math.round((value - from) / step) * step + from;\n  var precision = countDecimalPlaces(step);\n  return toPrecision(nextValue, precision);\n}\n/**\n * Clamps a value to ensure it stays within the min and max range.\n *\n * @param value the value to clamp\n * @param min the minimum value\n * @param max the maximum value\n */\n\nfunction clampValue(value, min, max) {\n  if (value == null) return value;\n  warn({\n    condition: max < min,\n    message: \"clamp: max cannot be less than min\"\n  });\n  return Math.min(Math.max(value, min), max);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/**\n * Credit goes to `framer-motion` of this useful utilities.\n * License can be found here: https://github.com/framer/motion\n */\nfunction isMouseEvent(event) {\n  var win = getEventWindow(event); // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n\n  if (typeof win.PointerEvent !== \"undefined\" && event instanceof win.PointerEvent) {\n    return !!(event.pointerType === \"mouse\");\n  }\n\n  return event instanceof win.MouseEvent;\n}\nfunction isTouchEvent(event) {\n  var hasTouches = !!event.touches;\n  return hasTouches;\n}\n\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\nfunction filterPrimaryPointer(eventHandler) {\n  return function (event) {\n    var win = getEventWindow(event);\n    var isMouseEvent = event instanceof win.MouseEvent;\n    var isPrimaryPointer = !isMouseEvent || isMouseEvent && event.button === 0;\n\n    if (isPrimaryPointer) {\n      eventHandler(event);\n    }\n  };\n}\n\nvar defaultPagePoint = {\n  pageX: 0,\n  pageY: 0\n};\n\nfunction pointFromTouch(e, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  var primaryTouch = e.touches[0] || e.changedTouches[0];\n  var point = primaryTouch || defaultPagePoint;\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction pointFromMouse(point, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    x: point[pointType + \"X\"],\n    y: point[pointType + \"Y\"]\n  };\n}\n\nfunction extractEventInfo(event, pointType) {\n  if (pointType === void 0) {\n    pointType = \"page\";\n  }\n\n  return {\n    point: isTouchEvent(event) ? pointFromTouch(event, pointType) : pointFromMouse(event, pointType)\n  };\n}\nfunction getViewportPointFromEvent(event) {\n  return extractEventInfo(event, \"client\");\n}\nvar wrapPointerEventHandler = function wrapPointerEventHandler(handler, shouldFilterPrimaryPointer) {\n  if (shouldFilterPrimaryPointer === void 0) {\n    shouldFilterPrimaryPointer = false;\n  }\n\n  var listener = function listener(event) {\n    return handler(event, extractEventInfo(event));\n  };\n\n  return shouldFilterPrimaryPointer ? filterPrimaryPointer(listener) : listener;\n}; // We check for event support via functions in case they've been mocked by a testing suite.\n\nvar supportsPointerEvents = function supportsPointerEvents() {\n  return isBrowser && window.onpointerdown === null;\n};\n\nvar supportsTouchEvents = function supportsTouchEvents() {\n  return isBrowser && window.ontouchstart === null;\n};\n\nvar supportsMouseEvents = function supportsMouseEvents() {\n  return isBrowser && window.onmousedown === null;\n};\n\nvar mouseEventNames = {\n  pointerdown: \"mousedown\",\n  pointermove: \"mousemove\",\n  pointerup: \"mouseup\",\n  pointercancel: \"mousecancel\",\n  pointerover: \"mouseover\",\n  pointerout: \"mouseout\",\n  pointerenter: \"mouseenter\",\n  pointerleave: \"mouseleave\"\n};\nvar touchEventNames = {\n  pointerdown: \"touchstart\",\n  pointermove: \"touchmove\",\n  pointerup: \"touchend\",\n  pointercancel: \"touchcancel\"\n};\nfunction getPointerEventName(name) {\n  if (supportsPointerEvents()) {\n    return name;\n  }\n\n  if (supportsTouchEvents()) {\n    return touchEventNames[name];\n  }\n\n  if (supportsMouseEvents()) {\n    return mouseEventNames[name];\n  }\n\n  return name;\n}\nfunction addPointerEvent(target, eventName, handler, options) {\n  return addDomEvent(target, getPointerEventName(eventName), wrapPointerEventHandler(handler, eventName === \"pointerdown\"), options);\n}\nfunction isMultiTouchEvent(event) {\n  return isTouchEvent(event) && event.touches.length > 1;\n}\n\n/**\n * The event information passed to pan event handlers like `onPan`, `onPanStart`.\n *\n * It contains information about the current state of the tap gesture such as its\n * `point`, `delta`, and `offset`\n */\n\n/**\n * @internal\n *\n * A Pan Session is recognized when the pointer is down\n * and moved in the allowed direction.\n */\nvar PanSession = /*#__PURE__*/function () {\n  /**\n   * We use this to keep track of the `x` and `y` pan session history\n   * as the pan event happens. It helps to calculate the `offset` and `delta`\n   */\n  // The pointer event that started the pan session\n  // The current pointer event for the pan session\n  // The current pointer event info for the pan session\n\n  /**\n   * Minimal pan distance required before recognizing the pan.\n   * @default \"3px\"\n   */\n  function PanSession(_event, handlers, threshold) {\n    var _this = this;\n\n    this.history = [];\n    this.startEvent = null;\n    this.lastEvent = null;\n    this.lastEventInfo = null;\n    this.handlers = {};\n    this.removeListeners = noop;\n    this.threshold = 3;\n    this.win = void 0;\n\n    this.updatePoint = function () {\n      if (!(_this.lastEvent && _this.lastEventInfo)) return;\n      var info = getPanInfo(_this.lastEventInfo, _this.history);\n      var isPanStarted = _this.startEvent !== null;\n\n      var isDistancePastThreshold = distance(info.offset, {\n        x: 0,\n        y: 0\n      }) >= _this.threshold;\n\n      if (!isPanStarted && !isDistancePastThreshold) return;\n\n      var _getFrameData = getFrameData(),\n          timestamp = _getFrameData.timestamp;\n\n      _this.history.push(_extends({}, info.point, {\n        timestamp: timestamp\n      }));\n\n      var _this$handlers = _this.handlers,\n          onStart = _this$handlers.onStart,\n          onMove = _this$handlers.onMove;\n\n      if (!isPanStarted) {\n        onStart == null ? void 0 : onStart(_this.lastEvent, info);\n        _this.startEvent = _this.lastEvent;\n      }\n\n      onMove == null ? void 0 : onMove(_this.lastEvent, info);\n    };\n\n    this.onPointerMove = function (event, info) {\n      _this.lastEvent = event;\n      _this.lastEventInfo = info; // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n\n      if (isMouseEvent(event) && event.buttons === 0) {\n        _this.onPointerUp(event, info);\n\n        return;\n      } // Throttle mouse move event to once per frame\n\n\n      sync.update(_this.updatePoint, true);\n    };\n\n    this.onPointerUp = function (event, info) {\n      // notify pan session ended\n      var panInfo = getPanInfo(info, _this.history);\n      var _this$handlers2 = _this.handlers,\n          onEnd = _this$handlers2.onEnd,\n          onSessionEnd = _this$handlers2.onSessionEnd;\n      onSessionEnd == null ? void 0 : onSessionEnd(event, panInfo);\n\n      _this.end(); // if panning never started, no need to call `onEnd`\n      // panning requires a pointermove of at least 3px\n\n\n      if (!onEnd || !_this.startEvent) return;\n      onEnd == null ? void 0 : onEnd(event, panInfo);\n    };\n\n    this.win = getEventWindow(_event); // If we have more than one touch, don't start detecting this gesture\n\n    if (isMultiTouchEvent(_event)) return;\n    this.handlers = handlers;\n\n    if (threshold) {\n      this.threshold = threshold;\n    } // stop default browser behavior\n\n\n    _event.stopPropagation();\n\n    _event.preventDefault(); // get and save the `pointerdown` event info in history\n    // we'll use it to compute the `offset`\n\n\n    var _info = extractEventInfo(_event);\n\n    var _getFrameData2 = getFrameData(),\n        _timestamp = _getFrameData2.timestamp;\n\n    this.history = [_extends({}, _info.point, {\n      timestamp: _timestamp\n    })]; // notify pan session start\n\n    var onSessionStart = handlers.onSessionStart;\n    onSessionStart == null ? void 0 : onSessionStart(_event, getPanInfo(_info, this.history)); // attach event listeners and return a single function to remove them all\n\n    this.removeListeners = pipe(addPointerEvent(this.win, \"pointermove\", this.onPointerMove), addPointerEvent(this.win, \"pointerup\", this.onPointerUp), addPointerEvent(this.win, \"pointercancel\", this.onPointerUp));\n  }\n\n  var _proto = PanSession.prototype;\n\n  _proto.updateHandlers = function updateHandlers(handlers) {\n    this.handlers = handlers;\n  };\n\n  _proto.end = function end() {\n    var _this$removeListeners;\n\n    (_this$removeListeners = this.removeListeners) == null ? void 0 : _this$removeListeners.call(this);\n    cancelSync.update(this.updatePoint);\n  };\n\n  return PanSession;\n}();\n\nfunction subtractPoint(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n\nfunction startPanPoint(history) {\n  return history[0];\n}\n\nfunction lastPanPoint(history) {\n  return history[history.length - 1];\n}\n\nfunction getPanInfo(info, history) {\n  return {\n    point: info.point,\n    delta: subtractPoint(info.point, lastPanPoint(history)),\n    offset: subtractPoint(info.point, startPanPoint(history)),\n    velocity: getVelocity(history, 0.1)\n  };\n}\n\nfunction lastDevicePoint(history) {\n  return history[history.length - 1];\n}\n\nvar toMilliseconds = function toMilliseconds(seconds) {\n  return seconds * 1000;\n};\n\nfunction getVelocity(history, timeDelta) {\n  if (history.length < 2) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var i = history.length - 1;\n  var timestampedPoint = null;\n  var lastPoint = lastDevicePoint(history);\n\n  while (i >= 0) {\n    timestampedPoint = history[i];\n\n    if (lastPoint.timestamp - timestampedPoint.timestamp > toMilliseconds(timeDelta)) {\n      break;\n    }\n\n    i--;\n  }\n\n  if (!timestampedPoint) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n\n  if (time === 0) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var currentVelocity = {\n    x: (lastPoint.x - timestampedPoint.x) / time,\n    y: (lastPoint.y - timestampedPoint.y) / time\n  };\n\n  if (currentVelocity.x === Infinity) {\n    currentVelocity.x = 0;\n  }\n\n  if (currentVelocity.y === Infinity) {\n    currentVelocity.y = 0;\n  }\n\n  return currentVelocity;\n}\n\nvar breakpoints = Object.freeze([\"base\", \"sm\", \"md\", \"lg\", \"xl\", \"2xl\"]);\nfunction mapResponsive(prop, mapper) {\n  if (isArray(prop)) {\n    return prop.map(function (item) {\n      if (item === null) {\n        return null;\n      }\n\n      return mapper(item);\n    });\n  }\n\n  if (isObject(prop)) {\n    return objectKeys(prop).reduce(function (result, key) {\n      result[key] = mapper(prop[key]);\n      return result;\n    }, {});\n  }\n\n  if (prop != null) {\n    return mapper(prop);\n  }\n\n  return null;\n}\nfunction objectToArrayNotation(obj, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var result = bps.map(function (br) {\n    var _obj$br;\n\n    return (_obj$br = obj[br]) != null ? _obj$br : null;\n  });\n\n  while (getLastItem(result) === null) {\n    result.pop();\n  }\n\n  return result;\n}\nfunction arrayToObjectNotation(values, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var result = {};\n  values.forEach(function (value, index) {\n    var key = bps[index];\n    if (value == null) return;\n    result[key] = value;\n  });\n  return result;\n}\nfunction isResponsiveObjectLike(obj, bps) {\n  if (bps === void 0) {\n    bps = breakpoints;\n  }\n\n  var keys = Object.keys(obj);\n  return keys.length > 0 && keys.every(function (key) {\n    return bps.includes(key);\n  });\n}\n/**\n * since breakpoints are defined as custom properties on an array, you may\n * `Object.keys(theme.breakpoints)` to retrieve both regular numeric indices\n * and custom breakpoints as string.\n *\n * This function returns true given a custom array property.\n */\n\nvar isCustomBreakpoint = function isCustomBreakpoint(maybeBreakpoint) {\n  return Number.isNaN(Number(maybeBreakpoint));\n};\n\nfunction getUserAgentBrowser(navigator) {\n  var ua = navigator.userAgent,\n      vendor = navigator.vendor;\n  var android = /(android)/i.test(ua);\n\n  switch (true) {\n    case /CriOS/.test(ua):\n      return \"Chrome for iOS\";\n\n    case /Edg\\//.test(ua):\n      return \"Edge\";\n\n    case android && /Silk\\//.test(ua):\n      return \"Silk\";\n\n    case /Chrome/.test(ua) && /Google Inc/.test(vendor):\n      return \"Chrome\";\n\n    case /Firefox\\/\\d+\\.\\d+$/.test(ua):\n      return \"Firefox\";\n\n    case android:\n      return \"AOSP\";\n\n    case /MSIE|Trident/.test(ua):\n      return \"IE\";\n\n    case /Safari/.test(navigator.userAgent) && /Apple Computer/.test(ua):\n      return \"Safari\";\n\n    case /AppleWebKit/.test(ua):\n      return \"WebKit\";\n\n    default:\n      return null;\n  }\n}\n\nfunction getUserAgentOS(navigator) {\n  var ua = navigator.userAgent,\n      platform = navigator.platform;\n\n  switch (true) {\n    case /Android/.test(ua):\n      return \"Android\";\n\n    case /iPhone|iPad|iPod/.test(platform):\n      return \"iOS\";\n\n    case /Win/.test(platform):\n      return \"Windows\";\n\n    case /Mac/.test(platform):\n      return \"Mac\";\n\n    case /CrOS/.test(ua):\n      return \"Chrome OS\";\n\n    case /Firefox/.test(ua):\n      return \"Firefox OS\";\n\n    default:\n      return null;\n  }\n}\n\nfunction detectDeviceType(navigator) {\n  var ua = navigator.userAgent;\n  if (/(tablet)|(iPad)|(Nexus 9)/i.test(ua)) return \"tablet\";\n  if (/(mobi)/i.test(ua)) return \"phone\";\n  return \"desktop\";\n}\nfunction detectOS(os) {\n  if (!isBrowser) return false;\n  return getUserAgentOS(window.navigator) === os;\n}\nfunction detectBrowser(browser) {\n  if (!isBrowser) return false;\n  return getUserAgentBrowser(window.navigator) === browser;\n}\nfunction detectTouch() {\n  if (!isBrowser) return false;\n  return window.ontouchstart === null && window.ontouchmove === null && window.ontouchend === null;\n}\n\nfunction walkObject(target, predicate) {\n  function inner(value, path) {\n    if (path === void 0) {\n      path = [];\n    }\n\n    if (isArray(value)) {\n      return value.map(function (item, index) {\n        return inner(item, [].concat(path, [String(index)]));\n      });\n    }\n\n    if (isObject(value)) {\n      return fromEntries(Object.entries(value).map(function (_ref) {\n        var key = _ref[0],\n            child = _ref[1];\n        return [key, inner(child, [].concat(path, [key]))];\n      }));\n    }\n\n    return predicate(value, path);\n  }\n\n  return inner(target);\n}\n\nexport { PanSession, __DEV__, __TEST__, addDomEvent, addItem, addPointerEvent, analyzeBreakpoints, ariaAttr, arrayToObjectNotation, breakpoints, callAll, callAllHandlers, canUseDOM, chunk, clampValue, closest, compose, contains, countDecimalPlaces, cx, dataAttr, detectBrowser, detectDeviceType, detectOS, detectTouch, determineLazyBehavior, distance, error, extractEventInfo, filterUndefined, focus, focusNextTabbable, focusPreviousTabbable, fromEntries, get, getActiveElement, getAllFocusable, getAllTabbable, getCSSVar, getEventWindow, getFirstFocusable, getFirstItem, getFirstTabbableIn, getLastItem, getLastTabbableIn, getNextIndex, getNextItem, getNextItemFromSearch, getNextTabbable, getOwnerDocument, getOwnerWindow, getPointerEventName, getPrevIndex, getPrevItem, getPreviousTabbable, getRelatedTarget, getViewportPointFromEvent, getWithDefault, hasDisplayNone, hasFocusWithin, hasNegativeTabIndex, hasTabIndex, isActiveElement, isArray, isBrowser, isContentEditable, isCssVar, isCustomBreakpoint, isDefined, isDisabled, isElement, isEmpty, isEmptyArray, isEmptyObject, isFocusable, isFunction, isHTMLElement, isHidden, isInputElement, isInputEvent, isMouseEvent, isMultiTouchEvent, isNotEmptyObject, isNotNumber, isNull, isNumber, isNumeric, isObject, isRefObject, isResponsiveObjectLike, isRightClick, isString, isTabbable, isTouchEvent, isUndefined, mapResponsive, maxSafeInteger, memoize, memoizedGet, minSafeInteger, noop, normalizeEventKey, objectFilter, objectKeys, objectToArrayNotation, omit, once, percentToValue, pick, pipe, px, removeIndex, removeItem, roundValueToStep, runIfFn, split, toPrecision, valueToPercent, walkObject, warn, wrapPointerEventHandler };\n"]},"metadata":{},"sourceType":"module"}